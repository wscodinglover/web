(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{347:function(t,a,s){"use strict";s.r(a);var e=s(14),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"npm-备忘清单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-备忘清单"}},[t._v("#")]),t._v(" npm 备忘清单")]),t._v(" "),a("p",[t._v("这个 "),a("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm"),a("OutboundLink")],1),t._v(" 快速参考备忘单显示了它的常用命令使用清单")]),t._v(" "),a("h2",{attrs:{id:"常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[t._v("#")]),t._v(" 常用命令")]),t._v(" "),a("h3",{attrs:{id:"包管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#包管理"}},[t._v("#")]),t._v(" 包管理")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm init -y")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("创建 "),a("code",[t._v("package.json")]),t._v(" 文件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm install")]),t._v(" 或 "),a("code",[t._v("npm i")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("安装 "),a("code",[t._v("package.json")]),t._v(" 中的所有内容")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm install --production")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("安装 "),a("code",[t._v("package.json")]),t._v(" 中的所有内容 "),a("br"),t._v(" "),a("em",[t._v("(除了 "),a("code",[t._v("devDependecies")]),t._v(")")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm install lodash")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("安装一个包")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm install --save-dev lodash")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("安装为 "),a("code",[t._v("devDependency")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm install --save-exact lodash")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("准确安装")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm install @scope/package-name")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("安装一个作用域的公共包")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm install <package_name>@<tag>")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("使用 "),a("code",[t._v("dist-tags")]),t._v(" 安装包")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm install -g <package_name>")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("全局安装包")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm uninstall <package_name>")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("卸载包")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm uninstall -g <package_name>")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("全局卸载包")])])])]),t._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm i sax")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("NPM")]),t._v(" 包")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm i sax@latest")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("指定标签 "),a("code",[t._v("最新")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm i sax@3.0.0")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("指定版本 "),a("code",[t._v("3.0.0")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v('npm i sax@">=1 <2.0"')])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("指定版本范围")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm i @org/sax")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("范围内的 "),a("code",[t._v("NPM")]),t._v(" 包")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm i user/repo")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("GitHub")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm i user/repo#master")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("GitHub")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm i github:user/repo")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("GitHub")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm i gitlab:user/repo")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("GitLab")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm i /path/to/repo")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("绝对路径")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm i ./archive.tgz")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("压缩包")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm i https://site.com/archive.tgz")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("通过 "),a("code",[t._v("HTTP")]),t._v(" 压缩包")])])])]),t._v(" "),a("p",[t._v("安装依赖的可用参数")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("-P")]),t._v(", "),a("code",[t._v("--save-prod")]),t._v(" 包将出现在您的依赖项中，这是默认值(npm v8)，除非存在 "),a("code",[t._v("-D")]),t._v(" 或 "),a("code",[t._v("-O")])]),t._v(" "),a("li",[a("code",[t._v("-D")]),t._v(", "),a("code",[t._v("--save-dev")]),t._v(" 包会出现在你的 "),a("code",[t._v("devDependencies")]),t._v(" 中")]),t._v(" "),a("li",[a("code",[t._v("-O")]),t._v(", "),a("code",[t._v("--save-optional")]),t._v(" 包将出现在您的 "),a("code",[t._v("optionalDependencies")]),t._v(" 中")]),t._v(" "),a("li",[a("code",[t._v("--no-save")]),t._v(" 防止保存到依赖项")]),t._v(" "),a("li",[a("code",[t._v("-E")]),t._v(", "),a("code",[t._v("--save-exact")]),t._v(" 依赖项将使用精确的版本进行配置，而不是使用 "),a("code",[t._v("npm")]),t._v(" 的默认 "),a("RouterLink",{attrs:{to:"/nodejs/semver.html"}},[a("code",[t._v("semver")])]),t._v(" 范围运算符")],1),t._v(" "),a("li",[a("code",[t._v("-B")]),t._v(", "),a("code",[t._v("--save-bundle")]),t._v(" 依赖项也将添加到您的 "),a("RouterLink",{attrs:{to:"/nodejs/package.json.html#bundleddependencies"}},[a("code",[t._v("bundleDependencies")])]),t._v(" 列表中\n")],1)]),t._v(" "),a("p",[t._v("命令 "),a("code",[t._v("npm i")]),t._v(" 是 "),a("code",[t._v("npm install")]),t._v(" 的别名")]),t._v(" "),a("h3",{attrs:{id:"清单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#清单"}},[t._v("#")]),t._v(" 清单")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm list")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("列出此软件中所有依赖项的已安装版本")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm list -g --depth 0")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("列出所有全局安装包的安装版本")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm view")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("列出此软件中所有依赖项的最新版本")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm outdated")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("仅列出此软件中已过时的依赖项")])])])]),t._v(" "),a("h3",{attrs:{id:"缓存-cache"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缓存-cache"}},[t._v("#")]),t._v(" 缓存 cache")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" cache "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("package-spec"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将指定的包添加到本地缓存")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" cache clean "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除缓存文件夹中的所有数据")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" cache "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" cache verify "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 验证缓存文件夹的内容，垃圾收集任何不需要的数据，")]),t._v("\n                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 并验证缓存索引和所有缓存数据的完整性")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("用于添加、列出或清理 "),a("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm"),a("OutboundLink")],1),t._v(" 缓存文件夹")]),t._v(" "),a("h3",{attrs:{id:"更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新"}},[t._v("#")]),t._v(" 更新")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm version <version>")])]),t._v(" "),a("td",[t._v("要更改 "),a("code",[t._v("package.json")]),t._v(" 中的版本号")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm update")])]),t._v(" "),a("td",[t._v("更新生产包")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm update --dev")])]),t._v(" "),a("td",[t._v("更新开发包")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm update -g")])]),t._v(" "),a("td",[t._v("更新全局包")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm update lodash")])]),t._v(" "),a("td",[t._v("更新 "),a("code",[t._v("lodash")]),t._v(" 包")])])])]),t._v(" "),a("h3",{attrs:{id:"杂项功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#杂项功能"}},[t._v("#")]),t._v(" 杂项功能")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将某人添加为所有者")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" owner "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" USERNAME PACKAGENAME\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出包")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 向安装旧版本软件包的用户添加警告(弃用)")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" deprecate PACKAGE@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"< 0.2.0"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"critical bug fixed in v0.2.0"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新所有包或选定的包")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" update "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" PACKAGE\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检查过时的包")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" outdated "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("PACKAGE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("h3",{attrs:{id:"取消发布包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#取消发布包"}},[t._v("#")]),t._v(" 取消发布包")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" unpublish "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("package-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 取消指定版本")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" unpublish "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("package-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("注意：如果您取消发布整个包，则必须在 24 小时后才能发布该包的任何新版本")]),t._v(" "),a("h3",{attrs:{id:"更改包裹可见性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更改包裹可见性"}},[t._v("#")]),t._v(" 更改包裹可见性")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将公共包设为私有")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" access restricted "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("package-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 公开私有包")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" access public "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("package-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 授予私有包访问权限")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" owner "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("your-package-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h3",{attrs:{id:"要将包转移到-npm-用户帐户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#要将包转移到-npm-用户帐户"}},[t._v("#")]),t._v(" 要将包转移到 npm 用户帐户")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 新维护者接受邀请")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" owner "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("their-username"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("package-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除维护者")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" owner "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("your-username"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("package-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 写入启用了双因素身份验证")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" owner "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("their-username"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("package-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--otp")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123456")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h3",{attrs:{id:"发布包-npmjs-org"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发布包-npmjs-org"}},[t._v("#")]),t._v(" 发布包 npmjs.org")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" publish\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 第一次需要指定公开参数")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" publish "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--access")]),t._v(" public\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" publish "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--access")]),t._v(" public "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--tag")]),t._v(" previous\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("发布公开包，到 "),a("a",{attrs:{href:"https://docs.npmjs.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("npmjs.org"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"使用-nrm-切换-registry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-nrm-切换-registry"}},[t._v("#")]),t._v(" 使用 nrm 切换 registry")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v(" nrm "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装 nrm 包")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看 registry 列表")]),t._v("\n$ nrm "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v("             \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将注册表切换到 cnpm")]),t._v("\n$ nrm use cnpm       \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h3",{attrs:{id:"init"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#init"}},[t._v("#")]),t._v(" init")]),t._v(" "),a("p",[t._v("用于设置新的或现有的 "),a("code",[t._v("npm")]),t._v(" 包")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("package-spec"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# (如同 `npx <package-spec>)")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("@scope"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# (如同 `npx <@scope>/create`)")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("别名: "),a("code",[t._v("create")]),t._v(", "),a("code",[t._v("innit")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v(":-")]),t._v(" "),a("th",[t._v("--")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm init foo")])]),t._v(" "),a("td",[a("code",[t._v("npm exec create-foo")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm init @usr/foo")])]),t._v(" "),a("td",[a("code",[t._v("npm exec @usr/create-foo")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm init @usr")])]),t._v(" "),a("td",[a("code",[t._v("npm exec @usr/create")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm init @usr@2.0.0")])]),t._v(" "),a("td",[a("code",[t._v("npm exec @usr/create@2.0.0")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm init @usr/foo@2.0.0")])]),t._v(" "),a("td",[a("code",[t._v("npm exec @usr/create-foo@2.0.0")])])])])]),t._v(" "),a("h3",{attrs:{id:"exec"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exec"}},[t._v("#")]),t._v(" exec")]),t._v(" "),a("p",[t._v("命令允许您在与通过 "),a("code",[t._v("npm run")]),t._v(" 运行它类似的上下文中从 npm 包")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -- "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" -- "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cmd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<cmd> [args...]'")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("foo "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<cmd> [args...]'")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("别名: x")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),t._v(" yo "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),t._v(" generator-node "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--call")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yo node"')]),t._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("foo -- bar --bar-argument\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ~ or ~")]),t._v("\n$ npx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("foo bar --bar-argument\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h2",{attrs:{id:"npx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npx"}},[t._v("#")]),t._v(" npx")]),t._v(" "),a("h3",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),a("p",[t._v("从本地或远程 npm 包运行命令")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("npx -- "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nnpx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" -- "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cmd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nnpx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<cmd> [args...]'")]),t._v("\nnpx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("foo "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<cmd> [args...]'")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),t._v(" "),a("p",[a("code",[t._v("npx")]),t._v(" 二进制文件在 "),a("code",[t._v("npm v7.0.0")]),t._v(" 中被重写，并且当时不推荐使用独立的 "),a("code",[t._v("npx")]),t._v(" 包")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" eslint\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 运行：")]),t._v("\n$ ./node_modules/.bin/eslint\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("上面命令简化，直接运行下面👇命令")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ npx eslint\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("命令 "),a("code",[t._v("npx")]),t._v(" 将自动安装并运行 "),a("code",[t._v("eslint")])]),t._v(" "),a("h3",{attrs:{id:"npx-vs-npm-exec"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npx-vs-npm-exec"}},[t._v("#")]),t._v(" npx VS npm exec")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ npx foo@latest bar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("@npmcli/foo\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm 将解析 foo 包名，并运行以下命令：")]),t._v("\n$ foo bar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("@npmcli/foo\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),t._v(" "),a("p",[t._v("由于 npm 的参数解析逻辑，运行这个命令是不同的:")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" foo@latest bar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("@npmcli/foo\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm 将首先解析 --package 选项")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解析 @npmcli/foo 包")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 然后，它将在该上下文中执行以下命令：")]),t._v("\n$ foo@latest bar\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),t._v(" "),a("p",[t._v("下面命令是与 "),a("code",[t._v("npx")]),t._v(" 等效的")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -- foo@latest bar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("@npmcli/foo\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 等效的")]),t._v("\n$ npx foo@latest bar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("@npmcli/foo\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),t._v(" "),a("h3",{attrs:{id:"npx-vs-npm-exec-示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npx-vs-npm-exec-示例"}},[t._v("#")]),t._v(" npx VS npm exec 示例")]),t._v(" "),a("p",[t._v("使用提供的参数在本地依赖项中运行 "),a("code",[t._v("tap")]),t._v(" 版本：")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -- tap "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--bail")]),t._v(" test/foo.js\n$ npx tap "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--bail")]),t._v(" test/foo.js\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("通过指定 "),a("code",[t._v("--package")]),t._v(" 选项运行名称与包名称匹配的命令以外的命令：")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("foo -- bar --bar-argument\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ~ or ~")]),t._v("\n$ npx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("foo bar --bar-argument\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),t._v(" "),a("p",[t._v("在当前项目的上下文中运行任意 "),a("code",[t._v("shell")]),t._v(" 脚本：")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'eslint && say \"hooray, lint passed\"'")]),t._v("\n$ npx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'eslint && say \"hooray, lint passed\"'")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),t._v(" "),a("h3",{attrs:{id:"创建一个-react-naive-项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建一个-react-naive-项目"}},[t._v("#")]),t._v(" 创建一个 React Naive 项目")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ npx react-native init AwesomeProject\n$ npx react-native init AwesomeTSProject "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--template")]),t._v(" react-native-template-typescript\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),t._v(" "),a("p",[t._v("使用 "),a("code",[t._v("npx")]),t._v(" 直接创建一个  "),a("a",{attrs:{href:"https://reactnative.dev/docs/environment-setup#creating-a-new-application",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Native"),a("OutboundLink")],1),t._v(" 应用")]),t._v(" "),a("h3",{attrs:{id:"创建一个-react-应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建一个-react-应用"}},[t._v("#")]),t._v(" 创建一个 React 应用")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ npx create-react-app my-app\n$ npx create-react-app my-app "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--template")]),t._v(" typescript\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),t._v(" "),a("p",[t._v("使用 "),a("code",[t._v("npx")]),t._v(" 跳过安装 "),a("a",{attrs:{href:"https://reactnative.dev/docs/environment-setup#creating-a-new-application",target:"_blank",rel:"noopener noreferrer"}},[t._v("CRA"),a("OutboundLink")],1),t._v("，直接创建一个 "),a("RouterLink",{attrs:{to:"/nodejs/react.html"}},[t._v("React")]),t._v(" 应用")],1),t._v(" "),a("h2",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),a("h3",{attrs:{id:"npmrc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npmrc"}},[t._v("#")]),t._v(" .npmrc")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v(":-")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v(":-")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("/path/to/project/.npmrc")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("每个项目的配置文件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("~/.npmrc")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("每个用户的配置文件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("$PREFIX/etc/npmrc")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("全局配置文件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("/path/to/npm/npmrc")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("npm 内置配置文件")])])])]),t._v(" "),a("h3",{attrs:{id:"配置内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置内容"}},[t._v("#")]),t._v(" 配置内容")]),t._v(" "),a("div",{staticClass:"language-ini line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ini"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# last modified: 01 Jan 2016")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("; Set a new registry for a scoped package")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("@myscope:registry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("https://registry.npmmirror.com")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),t._v(" "),a("p",[t._v("注释使用 "),a("code",[t._v("#")]),t._v(", "),a("code",[t._v(";")]),t._v(" 放置到一行的开头， "),a("a",{attrs:{href:"https://docs.npmjs.com/cli/v8/configuring-npm/npmrc",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v(".npmrc")]),a("OutboundLink")],1),t._v(" 文件由指定此注释语法的 "),a("a",{attrs:{href:"https://github.com/npm/ini",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("npm/ini")]),a("OutboundLink")],1),t._v(" 解析")]),t._v(" "),a("h3",{attrs:{id:"registry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#registry"}},[t._v("#")]),t._v(" registry")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v(":-")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v(":-")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npm")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://registry.npmjs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://registry.npmjs.org/"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("yarn")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://registry.yarnpkg.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://registry.yarnpkg.com/"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("tencent")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://mirrors.cloud.tencent.com/npm/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://mirrors.cloud.tencent.com/npm/"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("cnpm")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://r.cnpmjs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://r.cnpmjs.org/"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("taobao")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://registry.npmmirror.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://registry.npmmirror.com/"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("npmMirror")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://skimdb.npmjs.com/registry/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://skimdb.npmjs.com/registry/"),a("OutboundLink")],1)])])])]),t._v(" "),a("h3",{attrs:{id:"npmignore"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npmignore"}},[t._v("#")]),t._v(" "),a("code",[t._v(".npmignore")])]),t._v(" "),a("p",[t._v("将下面内容存放到 "),a("code",[t._v(".npmignore")]),t._v(" 文件中，放置在项目的根目录中。")]),t._v(" "),a("div",{staticClass:"language-gitignore line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-gitignore"}},[a("code",[a("span",{pre:!0,attrs:{class:"token entry string"}},[t._v(".git")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[t._v(".svn")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 忽略 .swp 后缀的文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[t._v("."),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(".swp")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/")]),t._v("logs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# “！” 意思是不要忽视")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("logs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/")]),t._v(".gitkeep")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[a("code",[t._v(".npmignore")]),t._v(" 文件就像 "),a("RouterLink",{attrs:{to:"/nodejs/git.html#忽略文件"}},[a("code",[t._v(".gitignore")])]),t._v(" 一样工作。它不能覆盖 "),a("code",[t._v("package.json#files")]),t._v(" 字段。")],1),t._v(" "),a("h3",{attrs:{id:"中国镜像站安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#中国镜像站安装"}},[t._v("#")]),t._v(" 中国镜像站安装")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 临时使用")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("package-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--registry")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("https://registry.npmmirror.com\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("将配置放置在 "),a("a",{attrs:{href:"https://docs.npmjs.com/cli/v8/configuring-npm/npmrc",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v(".npmrc")]),a("OutboundLink")],1),t._v(" 全局配置文件中，或者在项目的根目录中。")]),t._v(" "),a("div",{staticClass:"language-ini line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ini"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("; registry=https://registry.npmjs.org/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("registry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("https://registry.npmmirror.com")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("或者配置到 "),a("RouterLink",{attrs:{to:"/nodejs/package.json.html#publishconfig"}},[a("code",[t._v("package.json#publishConfig")])]),t._v(" 字段上")],1),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"publishConfig"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"registry"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://registry.npmmirror.com"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("替换 npm 仓库地址为 npmmirror(淘宝) 镜像地址")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" registry https://registry.npmmirror.com\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("请参阅："),a("a",{attrs:{href:"https://npmmirror.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("npmmirror 中国镜像站"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"electronjs-镜像和缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#electronjs-镜像和缓存"}},[t._v("#")]),t._v(" electronjs 镜像和缓存")]),t._v(" "),a("div",{staticClass:"language-ini line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ini"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("ELECTRON_MIRROR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token inner-value"}},[t._v("https://npmmirror.com/mirrors/electron/")]),t._v('"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("ELECTRON_BUILDER_BINARIES_MIRROR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("https://npmmirror.com/mirrors/electron-builder-binaries/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('; ELECTRON_CUSTOM_DIR="{{ version }}"')]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),t._v(" "),a("h3",{attrs:{id:"身份验证相关配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#身份验证相关配置"}},[t._v("#")]),t._v(" 身份验证相关配置")]),t._v(" "),a("div",{staticClass:"language-ini line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ini"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("//registry.npmjs.org/:_authToken")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("MYTOKEN")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("; 将适用于 @myorg 和 @another")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("//somewhere.com/:_authToken")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("MYTOKEN")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("; 将适用于 @myorg")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("//somewhere.com/myorg/:_authToken")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("MYTOKEN1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("; 将适用于 @another")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("//somewhere.com/another/:_authToken")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("MYTOKEN2")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h2",{attrs:{id:"纯-esm-包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#纯-esm-包"}},[t._v("#")]),t._v(" 纯 ESM 包")]),t._v(" "),a("h3",{attrs:{id:"commonjs-项目移动到-esm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commonjs-项目移动到-esm"}},[t._v("#")]),t._v(" CommonJS 项目移动到 ESM")]),t._v(" "),a("ul",[a("li",[t._v("将 "),a("code",[t._v('"type": "module"')]),t._v(" 添加到您的 "),a("RouterLink",{attrs:{to:"/nodejs/package.json.html"}},[t._v("package.json")])],1),t._v(" "),a("li",[t._v("将 "),a("RouterLink",{attrs:{to:"/nodejs/package.json.html"}},[t._v("package.json")]),t._v(" 中的 "),a("code",[t._v('"main": "index.js"')]),t._v(" 替换为 "),a("code",[t._v('"exports": "./index.js"')]),t._v("。")],1),t._v(" "),a("li",[t._v("将 "),a("RouterLink",{attrs:{to:"/nodejs/package.json.html"}},[t._v("package.json")]),t._v(" 中的 "),a("code",[t._v('"engines"')]),t._v(" 字段更新为 Node.js 14: "),a("code",[t._v('"node": ">=14.16"')]),t._v("。(不包括 "),a("red",[a("s",[t._v("Node.js 12")])]),t._v("，因为它不再受支持)")],1),t._v(" "),a("li",[t._v("删除 "),a("code",[t._v('"use strict"')]),t._v("；来自所有 JavaScript 文件")]),t._v(" "),a("li",[t._v("将所有 "),a("code",[t._v("require()")]),t._v(" / "),a("code",[t._v("module.export")]),t._v(" 替换为 "),a("code",[t._v("import")]),t._v(" / "),a("code",[t._v("export")])]),t._v(" "),a("li",[t._v("仅使用完整的相对文件路径进行导入："),a("code",[t._v("import x from '.';")]),t._v(" → "),a("code",[t._v("import x from './index.js';")])]),t._v(" "),a("li",[t._v("如果您有 "),a("code",[t._v("TypeScript")]),t._v(" 类型定义（例如 "),a("code",[t._v("index.d.ts")]),t._v("），请将其更新为使用 ESM 导入/导出")]),t._v(" "),a("li",[t._v("可选但推荐使用 "),a("code",[t._v("node:")]),t._v(" 导入"),a("a",{attrs:{href:"https://nodejs.org/api/esm.html#esm_node_imports",target:"_blank",rel:"noopener noreferrer"}},[t._v("协议"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"typescript-项目输出-esm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#typescript-项目输出-esm"}},[t._v("#")]),t._v(" TypeScript 项目输出 ESM")]),t._v(" "),a("ul",[a("li",[t._v("确保您使用的是 TypeScript 4.7 或更高版本")]),t._v(" "),a("li",[t._v("将 "),a("code",[t._v('"type": "module"')]),t._v(" 添加到您的 "),a("RouterLink",{attrs:{to:"/nodejs/package.json.html"}},[t._v("package.json")])],1),t._v(" "),a("li",[t._v("将 "),a("RouterLink",{attrs:{to:"/nodejs/package.json.html"}},[t._v("package.json")]),t._v(" 中的 "),a("code",[t._v('"main": "index.js"')]),t._v(" 替换为 "),a("code",[t._v('"exports": "./index.js"')])],1),t._v(" "),a("li",[t._v("将 "),a("RouterLink",{attrs:{to:"/nodejs/package.json.html"}},[t._v("package.json")]),t._v(" 中的 "),a("code",[t._v('"engines"')]),t._v(" 字段更新为 Node.js 14: "),a("code",[t._v('"node": ">=14.16"')]),t._v("。 （不包括 "),a("red",[a("s",[t._v("Node.js 12")])]),t._v("，因为它不再受支持）")],1),t._v(" "),a("li",[t._v("将 "),a("code",[t._v('"module": "node16"')]),t._v(", "),a("code",[t._v('"moduleResolution": "node16"')]),t._v(" 添加到您的 "),a("RouterLink",{attrs:{to:"/nodejs/typescript.html"}},[t._v("tsconfig.json")]),t._v(" ("),a("a",{attrs:{href:"https://github.com/sindresorhus/tsconfig/blob/main/tsconfig.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("列子"),a("OutboundLink")],1),t._v(")")],1),t._v(" "),a("li",[t._v("仅使用完整的相对文件路径进行导入："),a("code",[t._v("import x from '.';")]),t._v(" → "),a("code",[t._v("import x from './index.js';")])]),t._v(" "),a("li",[t._v("删除 "),a("code",[t._v("namespace")]),t._v(" 使用并改用 "),a("code",[t._v("export")])]),t._v(" "),a("li",[t._v("可选但推荐使用 "),a("code",[t._v("node:")]),t._v(" 导入"),a("a",{attrs:{href:"https://nodejs.org/api/esm.html#esm_node_imports",target:"_blank",rel:"noopener noreferrer"}},[t._v("协议"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("strong",[t._v("即使您正在导入 "),a("code",[t._v(".ts")]),t._v(" 文件，也必须在相对导入中使用 "),a("code",[t._v(".js")]),t._v(" 扩展名")])])]),t._v(" "),a("p",[t._v("阅读"),a("a",{attrs:{href:"https://www.typescriptlang.org/docs/handbook/esm-node.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方 ESM 指南"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"另见"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#另见"}},[t._v("#")]),t._v(" 另见")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm 仓库、网站和命令行界面的文档"),a("OutboundLink")],1),t._v(" "),a("em",[t._v("(npmjs.com)")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://npmmirror.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("npmmirror 中国镜像站"),a("OutboundLink")],1),t._v(" "),a("em",[t._v("(npmmirror.com)")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/package-managers/javascript/npm/commands/npx.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Dev Cheatsheets npx"),a("OutboundLink")],1),t._v(" "),a("em",[t._v("(michaelcurrin.github.io)")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);