(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{292:function(a,s,t){"use strict";t.r(s);var e=t(14),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"ffmpeg-备忘清单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg-备忘清单"}},[a._v("#")]),a._v(" FFmpeg 备忘清单")]),a._v(" "),s("p",[a._v("本备忘清单是 "),s("a",{attrs:{href:"https://ffmpeg.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("FFmpeg"),s("OutboundLink")],1),a._v(" 中常见视频处理操作的备忘清单")]),a._v(" "),s("h2",{attrs:{id:"ffmpeg-参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg-参考"}},[a._v("#")]),a._v(" FFmpeg 参考")]),a._v(" "),s("h3",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("p",[a._v("Linux")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ apt-get install ffmpeg\n$ yum install ffmpeg\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("MacOS")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ brew "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" ffmpeg\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[a._v("#")]),a._v(" 示例")]),a._v(" "),s("p",[a._v("mp4 转 avi:")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 output.avi\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("webm 转 mp4:")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" movie.webm movie.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"全局选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局选项"}},[a._v("#")]),a._v(" 全局选项")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[a._v(":-")]),a._v(" "),s("th",[a._v("-")])])]),a._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-y")])]),a._v(" "),s("td",[a._v("覆盖输出文件")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-n")])]),a._v(" "),s("td",[a._v("不要覆盖输出文件")])])])]),a._v(" "),s("h3",{attrs:{id:"主要选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#主要选项"}},[a._v("#")]),a._v(" 主要选项")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[a._v(":-")]),a._v(" "),s("th",[a._v("-")])])]),a._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-f fmt")])]),a._v(" "),s("td",[a._v("强制输入或输出文件格式")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-i fName")])]),a._v(" "),s("td",[a._v("输入文件名，未指定显示内容流的摘要")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-c codecName")])]),a._v(" "),s("td",[a._v("指定编解码器 [输入或输出]")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-fs Nbytes")])]),a._v(" "),s("td",[a._v("以 Nbytes 指定最大输出文件大小")])])])]),a._v(" "),s("h3",{attrs:{id:"基础参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础参数"}},[a._v("#")]),a._v(" 基础参数")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[a._v(":-")]),a._v(" "),s("th",[a._v("-")])])]),a._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-codecs")])]),a._v(" "),s("td",[a._v("列出可用编码")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-formats")])]),a._v(" "),s("td",[a._v("列出支持的格式")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-protocols")])]),a._v(" "),s("td",[a._v("列出支持的协议")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-i input.mp4")])]),a._v(" "),s("td",[a._v("指定输入文件")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-c:v libx264")])]),a._v(" "),s("td",[a._v("指定视频编码")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-c:a aac")])]),a._v(" "),s("td",[a._v("指定音频编码")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-vcodec libx264")])]),a._v(" "),s("td",[a._v("旧写法")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-acodec aac")])]),a._v(" "),s("td",[a._v("旧写法")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-fs SIZE")])]),a._v(" "),s("td",[a._v("指定文件大小")])])])]),a._v(" "),s("h3",{attrs:{id:"视频参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#视频参数"}},[a._v("#")]),a._v(" 视频参数")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[a._v(":-")]),a._v(" "),s("th",[a._v("-")])])]),a._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-b bRate")])]),a._v(" "),s("td",[a._v("设置视频比特率(单位 kbit/s)")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-fixaspect")])]),a._v(" "),s("td",[a._v("固定纵横比")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-bt tolerance")])]),a._v(" "),s("td",[a._v("设置视频比特率容差(单位 kbit/s)")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-maxrate bRate")])]),a._v(" "),s("td",[a._v("设置最大视频比特率容差(单位 kbit/s)")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-minrate bRate")])]),a._v(" "),s("td",[a._v("设置最小视频比特率容差(单位 kbit/s)")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-bufsize size")])]),a._v(" "),s("td",[a._v("设置速率控制缓冲区大小(以 kByte 为单位)")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-sameq")])]),a._v(" "),s("td",[a._v("使用与源相同的视频质量(意味着 VBR)")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-newvideo")])]),a._v(" "),s("td",[a._v("将新的视频流添加到当前输出流")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-aspect RATIO")])]),a._v(" "),s("td",[a._v("纵横比(4:3、16:9 或 1.25)")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-r RATE")])]),a._v(" "),s("td",[a._v("每秒帧率")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-s WIDTHxHEIGHT")])]),a._v(" "),s("td",[a._v("帧大小")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-vn")])]),a._v(" "),s("td",[a._v("没有视频")])])])]),a._v(" "),s("h3",{attrs:{id:"码率设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#码率设置"}},[a._v("#")]),a._v(" 码率设置")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b:v")]),a._v(" 1M      "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 视频比特率(1M = 1Mbit/s)")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b:a")]),a._v(" 1M      "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 音频比特率(1M = 1Mbit/s)")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"尺寸规格"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#尺寸规格"}},[a._v("#")]),a._v(" 尺寸规格")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[a._v(":-")]),a._v(" "),s("th",[a._v("-")]),a._v(" "),s("th",[a._v("-")]),a._v(" "),s("th",[a._v("-")])])]),a._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("K")]),a._v(" 或 "),s("code",[a._v("k")])]),a._v(" "),s("td",[a._v("103")]),a._v(" "),s("td",[a._v("1000 字节")]),a._v(" "),s("td",[a._v("千字节 Kilobytes")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("M")])]),a._v(" "),s("td",[a._v("106")]),a._v(" "),s("td",[a._v("1000000 字节")]),a._v(" "),s("td",[a._v("兆字节 Megabytes")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("G")])]),a._v(" "),s("td",[a._v("109")]),a._v(" "),s("td",[a._v("1000000000")]),a._v(" "),s("td",[a._v("千兆字节 Gigabytes")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("Ki")])]),a._v(" "),s("td",[a._v("210")]),a._v(" "),s("td",[a._v("1024")]),a._v(" "),s("td",[a._v("千字节 Kibibyte")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("Mi")])]),a._v(" "),s("td",[a._v("220")]),a._v(" "),s("td",[a._v("1048576")]),a._v(" "),s("td",[a._v("兆字节 Mebibyte")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("Gi")])]),a._v(" "),s("td",[a._v("230")]),a._v(" "),s("td",[a._v("1073741824")]),a._v(" "),s("td",[a._v("Gibibyte")])])])]),a._v(" "),s("h3",{attrs:{id:"音频参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#音频参数"}},[a._v("#")]),a._v(" 音频参数")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[a._v(":-")]),a._v(" "),s("th",[a._v("-")])])]),a._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-ab bRate")])]),a._v(" "),s("td",[a._v("设置音频比特率(单位 kbit/s)")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-aframes N")])]),a._v(" "),s("td",[a._v("设置要录制的音频帧数 [-frames:a 的别名]")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-aq q")])]),a._v(" "),s("td",[a._v("设置音频质量(特定于编解码器，VBR) [-q:a 的别名]")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-an")])]),a._v(" "),s("td",[a._v("禁用录音")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-acodec codec")])]),a._v(" "),s("td",[a._v("设置音频编解码器。[-codec:a 的别名] 使用 'copy' 复制流。")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-vol")])]),a._v(" "),s("td",[a._v("以 256 的倍数更改音频音量，其中 256 = 100%(正常)音量。例如 512 = 200%")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-newaudio")])]),a._v(" "),s("td",[a._v("将新的音频流添加到当前输出流")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("-alang code")])]),a._v(" "),s("td",[a._v("设置当前音频流的 ISO 639 语言代码(3 个字母)")])])])]),a._v(" "),s("h2",{attrs:{id:"视频编辑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#视频编辑"}},[a._v("#")]),a._v(" 视频编辑")]),a._v(" "),s("h3",{attrs:{id:"剪切视频部分"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#剪切视频部分"}},[a._v("#")]),a._v(" 剪切视频部分")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 从1分45秒开始剪切2分35秒")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("input"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ss")]),a._v(" 00:01:45 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" 00:02:35 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("output"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 从1分45秒开始剪切到第4分20秒，与上一行等效")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("input"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ss")]),a._v(" 00:01:45 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-to")]),a._v(" 00:04:20 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-codec")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("output"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ss")]),a._v(" 00:00:30 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" orginalfile.mpg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" 00:00:05 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" copy newfile.mpg\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 从 4.5 秒开始的 5 秒长的视频")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" in.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ss")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("4.5")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v(" out.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"视频帧速率"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#视频帧速率"}},[a._v("#")]),a._v(" 视频帧速率")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.avi "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v(" output.avi\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("将输出文件的帧速率强制为 24 fps")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.m2v "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v(" output.avi\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("将输入文件的帧速率(仅对原始格式有效)强制为 1 fps，将输出文件的帧速率强制为 24 fps")]),a._v(" "),s("h3",{attrs:{id:"h265-2-pass-编码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#h265-2-pass-编码"}},[a._v("#")]),a._v(" H265 2-pass 编码")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("input"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:v")]),a._v(" libx265 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b:v")]),a._v(" 2600k "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -x265-params "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("pass")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-an")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" mp4 /dev/null "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("input"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:v")]),a._v(" libx265 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b:v")]),a._v(" 2600k "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n        -x265-params "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("pass")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:a")]),a._v(" aac "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b:a")]),a._v(" 128k output.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),a._v(" "),s("p",[a._v("对于 "),s("code",[a._v("H265 2-pass")]),a._v(" 编码，您需要组合 "),s("code",[a._v("2")]),a._v(" 个 "),s("code",[a._v("ffmpeg")]),a._v(" 调用")]),a._v(" "),s("h3",{attrs:{id:"视频比特率设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#视频比特率设置"}},[a._v("#")]),a._v(" 视频比特率设置")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.avi "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b:v")]),a._v(" 64k "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-bufsize")]),a._v(" 64k output.avi\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("将输出文件的视频比特率设置为 64 kbit/s")]),a._v(" "),s("h3",{attrs:{id:"固定旋转"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#固定旋转"}},[a._v("#")]),a._v(" 固定旋转")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("input"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy -metadata:s:v:0 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("rotate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("90")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("output"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("p",[a._v("不要为旋转重新编码，而是简单地为旋转角度添加一个视频元数据字段")]),a._v(" "),s("h3",{attrs:{id:"缩放到特定宽度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缩放到特定宽度"}},[a._v("#")]),a._v(" 缩放到特定宽度")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" in.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter:v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("scale")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"538:trunc(ow/a/2)*2"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:a")]),a._v(" copy out.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("给定所需的视频宽度，例如 538 像素，您可以使用以下方法将视频调整为该宽度，同时保持宽高比")]),a._v(" "),s("h2",{attrs:{id:"重新包装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重新包装"}},[a._v("#")]),a._v(" 重新包装")]),a._v(" "),s("h3",{attrs:{id:"提取音频流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#提取音频流"}},[a._v("#")]),a._v(" 提取音频流")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" file.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vn")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy output.aac \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("p",[s("code",[a._v("-vn")]),a._v(" (过滤视频)，使用 "),s("code",[a._v("-c copy")]),a._v("，不会重新解码和编码，加快速度。")]),a._v(" "),s("h3",{attrs:{id:"提取视频流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#提取视频流"}},[a._v("#")]),a._v(" 提取视频流")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" file.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-an")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy output.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"处理-id3-标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#处理-id3-标签"}},[a._v("#")]),a._v(" 处理 id3 标签")]),a._v(" "),s("p",[a._v("提取")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" file.mp3 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" ffmetadata metadata.txt\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("p",[a._v("设置")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" file.mp3 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-metadata")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("title")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"<title>"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-metadata")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("artist")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"<artist>"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-metadata")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("album")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"<album>"')]),a._v(" out.mp3\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("p",[a._v("更多"),s("a",{attrs:{href:"https://gist.github.com/eyecatchup/0757b3d8b989fe433979db2ea7d95a01",target:"_blank",rel:"noopener noreferrer"}},[a._v("请查看"),s("OutboundLink")],1)]),a._v(" "),s("h3",{attrs:{id:"重新采样-转换音频"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重新采样-转换音频"}},[a._v("#")]),a._v(" 重新采样/转换音频")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" file.aac "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" mp3 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ar")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("44100")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ab")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("128000")]),a._v(" output.mp3\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"将输入文件转码为-dvd-pal-格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将输入文件转码为-dvd-pal-格式"}},[a._v("#")]),a._v(" 将输入文件转码为 DVD PAL 格式")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-threads")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" inFile "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-target")]),a._v(" pal-dvd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ac")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-aspect")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),a._v(":9 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" mp2 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ab")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("224000")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("pad")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(":­0:0:0 outFile\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"map-命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#map-命令"}},[a._v("#")]),a._v(" -map 命令")]),a._v(" "),s("p",[s("code",[a._v("-map")]),a._v(" 命令用于指定索引文件，以及索引文件中流类型和它的索引")]),a._v(" "),s("hr"),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" index:stram_type:stream_index\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("hr"),a._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[a._v(":-")]),a._v(" "),s("th",[a._v("-")])])]),a._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("input_file_index")])]),a._v(" "),s("td",[a._v("输入的文件索引(从 0 开始)")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("stream_type")])]),a._v(" "),s("td",[a._v("指定文件流的类型(a -> 音频，v -> 视频，s -> 字幕)")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[a._v("stream_index")])]),a._v(" "),s("td",[a._v("指定流类型的索引(从 0 开始)")])])])]),a._v(" "),s("p",[a._v("将第一个输入文件的第二个音频拷贝到 out.mp3")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(":a:1 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy out.mp3\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("将第一个输入文件的视频流和第二个输入文件的音频流拷贝到 out.mp4")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" i1.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" i2.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(":v "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(":a "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy out.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"反向-map-命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#反向-map-命令"}},[a._v("#")]),a._v(" 反向 -map 命令")]),a._v(" "),s("p",[a._v("反向的 map 命令（在 map 命令的参数前加负号）。例如，"),s("code",[a._v("-map -0:a:0")]),a._v("，忽略第一个文件中的第一个音频流。\n")]),a._v(" "),s("h3",{attrs:{id:"切换容器-转换类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#切换容器-转换类型"}},[a._v("#")]),a._v(" 切换容器(转换类型)")]),a._v(" "),s("p",[a._v("将容器从 "),s("code",[a._v("MKV")]),a._v(" 更改为 "),s("code",[a._v("MP4")])]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" file.mkv "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" copy file.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("p",[a._v("要将视频从 "),s("code",[a._v(".mov")]),a._v(" 更改为 "),s("code",[a._v(".mp4")])]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" in.mov out.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"音视频同步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#音视频同步"}},[a._v("#")]),a._v(" 音视频同步")]),a._v(" "),s("p",[a._v("将音频延迟 3 秒")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mov "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-itsoffset")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mov "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(":v "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(":a "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-codec:a")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-codec:v")]),a._v(" copy output.mov\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("p",[a._v("将视频延迟 3 秒(即将音频提前 3 秒)")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mov "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-itsoffset")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mov "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(":v "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(":a "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-codec:a")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-codec:v")]),a._v(" copy output.mov\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"图片中的视频"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图片中的视频"}},[a._v("#")]),a._v(" 图片中的视频")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" image2 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" image%d.jpg video.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("p",[a._v("多个编号的图像 image1.jpg、image2.jpg... 像这样从它们创建一个视频")]),a._v(" "),s("h3",{attrs:{id:"将视频拆分为图像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将视频拆分为图像"}},[a._v("#")]),a._v(" 将视频拆分为图像")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" video.mp4 image%d.jpg\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"录屏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#录屏"}},[a._v("#")]),a._v(" 录屏")]),a._v(" "),s("h4",{attrs:{id:"查找所有可用设备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查找所有可用设备"}},[a._v("#")]),a._v(" 查找所有可用设备")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" avfoundation "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-list_devices")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("p",[s("span",{staticStyle:{color:"red"}},[a._v("一定要选择好设备，根据设备进行配置。")])]),a._v(" "),s("h4",{attrs:{id:"windows-下录屏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#windows-下录屏"}},[a._v("#")]),a._v(" windows 下录屏")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-hide_banner")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-loglevel")]),a._v(" error "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-stats")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" gdigrab "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-framerate")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("60")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-offset_x")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-offset_y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-video_size")]),a._v(" 1920x1080 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-draw_mouse")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" deskop "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:v")]),a._v(" libx264 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("60")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-preset")]),a._v(" ultrafast "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pix_fmt")]),a._v(" yuv420p "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" screen_record.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h4",{attrs:{id:"mac-下录屏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mac-下录屏"}},[a._v("#")]),a._v(" mac 下录屏")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" avfoundation "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(":0 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-preset")]),a._v(" ultrafast out.mkv\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"合并音频与图片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#合并音频与图片"}},[a._v("#")]),a._v(" 合并音频与图片")]),a._v(" "),s("p",[a._v("合并多个音频，自定义背景图片，生成视频音乐")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# mylist.txt >>>")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("file")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'1.mp3'")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("file")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'2.mp3'")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("file")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'3.mp3'")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# OBS: 46500 = 25:50 minutes * 60 * 30fps")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# echo \"00:25:50\" | awk -F: '{ print (($1 * 3600) + ($2 * 60) + $3) * 30 }'")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-loop")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" cover.jpg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" concat "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" mylist.txt "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:v")]),a._v(" libx264 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("30")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pix_fmt")]),a._v(" yuv420p "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vframes")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("46500")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:a")]),a._v(" aac "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b:a")]),a._v(" 192k "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-strict")]),a._v(" experimental "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-shortest")]),a._v(" output.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"转换为-gif"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#转换为-gif"}},[a._v("#")]),a._v(" 转换为 Gif")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ss")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("28")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"fps=10,scale=1080:-1:flags=lanczos,split[s0][s1];[s0]palettegen[p];[s1][p]paletteuse"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-loop")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" output.gif\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("p",[a._v("上面有关更多信息，请参阅 "),s("a",{attrs:{href:"https://superuser.com/a/556031",target:"_blank",rel:"noopener noreferrer"}},[a._v("StackOverflow 问题"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 转换为 GIF")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mov output.gif\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 从 GIF 转换")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.gif output.mov\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 在非 GIF 格式之间转换")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mov "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-codec:v")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-codec:a")]),a._v(" copy output.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("h3",{attrs:{id:"转换为灰度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#转换为灰度"}},[a._v("#")]),a._v(" 转换为灰度")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" inFile "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-flags")]),a._v(" gray outFile\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"字幕格式转换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字幕格式转换"}},[a._v("#")]),a._v(" 字幕格式转换")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# srt -> ass")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" subtitle.srt subtitle.ass\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ass -> vtt")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" subtitle.ass subtitle.vtt\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("srt、ass、vtt 等格式之间可以相互转换")]),a._v(" "),s("h3",{attrs:{id:"字幕"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字幕"}},[a._v("#")]),a._v(" 字幕")]),a._v(" "),s("p",[a._v("将字幕写入视频")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mov "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter:v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'subtitles=subtitles.srt'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-codec:a")]),a._v(" copy output.mov\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("将字幕写入视频，具有自定义字幕样式")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mov "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter:v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"subtitles=subtitles.srt:force_style='FontName=Menlo Bold,Fontsize=18'\"")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-codec:a")]),a._v(" copy output.mov\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"制造-1-分钟的音频噪音"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#制造-1-分钟的音频噪音"}},[a._v("#")]),a._v(" 制造 1 分钟的音频噪音")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ar")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("48000")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("60")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" s16le "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" pcm_s16le "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" /dev/u­random "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ab")]),a._v(" 64K "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" mp2 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" mp2 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" noise.mp2\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"从视频中提取图像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从视频中提取图像"}},[a._v("#")]),a._v(" 从视频中提取图像")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" foo.avi "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" WxH "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" image2 outFil­e%0­3d.png\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"音量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#音量"}},[a._v("#")]),a._v(" 音量")]),a._v(" "),s("p",[a._v("将音量减半")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mov "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-codec:v")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter:a")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'volume=0.5'")]),a._v(" output.mov\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("音量加倍")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mov "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-codec:v")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter:a")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'volume=2'")]),a._v(" output.mov\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"将图像文件转换为其他格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将图像文件转换为其他格式"}},[a._v("#")]),a._v(" 将图像文件转换为其他格式")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" foo012­2.png foo.tiff \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("pgm, ppm, pam, pgmyuv, jpeg, gif, png, tiff, sgi")]),a._v(" "),s("h3",{attrs:{id:"将图像转换为-avi-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将图像转换为-avi-文件"}},[a._v("#")]),a._v(" 将图像转换为 AVI 文件")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" image2 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" foo-%0­3d.jpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("12")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" WxH foo.avi\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"将-wav-文件转换为-mp3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将-wav-文件转换为-mp3"}},[a._v("#")]),a._v(" 将 WAV 文件转换为 MP3")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" source­_so­ng.wav "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vn")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ar")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("44100")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ac")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ab")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("192")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" mp3 final_­son­g.mp3\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"从视频中提取音频-将其转码为-mp3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从视频中提取音频-将其转码为-mp3"}},[a._v("#")]),a._v(" 从视频中提取音频，将其转码为 MP3")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" source.avi "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vn")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ar")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("44100")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ac")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ab")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("192")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" mp3 sound.mp3\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"将-avi-转换为-flv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将-avi-转换为-flv"}},[a._v("#")]),a._v(" 将 .avi 转换为 .flv")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" source.avi "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ab")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("56")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ar")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("44100")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("200")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" 320x240 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" flv output.flv\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"将图片附加到-mp3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将图片附加到-mp3"}},[a._v("#")]),a._v(" 将图片附加到 mp3")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp3 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" cover.png "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy -metad­ata:s:v "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("title")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("­"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"­Album cover"')]),a._v(" -metad­ata:s:v commen­t"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Cover (Front­)"')]),a._v(" out.mp3\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"将视频与声音文件混合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将视频与声音文件混合"}},[a._v("#")]),a._v(" 将视频与声音文件混合")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" song.wav "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" source­_vi­deo.avi outvid­eo.mpg\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"编写带有-id3v2-3-页眉和-id3v1-页脚的-mp3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编写带有-id3v2-3-页眉和-id3v1-页脚的-mp3"}},[a._v("#")]),a._v(" 编写带有 ID3v2.3 页眉和 ID3v1 页脚的 mp3")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" inFile -id3v2­_ve­rsion "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" -write­_id3v1 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" outFil­e.mp3\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"连接输入文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#连接输入文件"}},[a._v("#")]),a._v(" 连接输入文件")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" inFile1 inFile2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" mpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" - "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" copy outFil­e.mpg\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"使用比特率和-mp3-音频的编解码器对剪辑进行编码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用比特率和-mp3-音频的编解码器对剪辑进行编码"}},[a._v("#")]),a._v(" 使用比特率和 mp3 音频的编解码器对剪辑进行编码")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" clip.avi "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" libxvid "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("800000")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" libmp3lame "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ab")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("128")]),a._v(" new-cl­ip.avi\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"将音频流与来自不同文件的视频流合并"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将音频流与来自不同文件的视频流合并"}},[a._v("#")]),a._v(" 将音频流与来自不同文件的视频流合并")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" audioS.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" videoS.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(":a "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(":v outFil­e.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"合并视频"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#合并视频"}},[a._v("#")]),a._v(" 合并视频")]),a._v(" "),s("p",[a._v("合并相同规格(解码/分辨率/帧率)视频")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# mylist.txt >>>")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("file")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'1.mp4'")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("file")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'2.mp4'")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("file")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'3.mp4'")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 这些文件是相对路径，如使用绝对路径需要添加 `-safe 0` 参数")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" concat "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" mylist.txt "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy output.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),a._v(" "),s("p",[a._v("合并当前目录下所有视频")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" concat "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-safe")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[a._v("f")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" ./*.mp4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"file '"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PWD")]),a._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$f")]),a._v("'\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy output.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("p",[a._v("合并不同规格视频，保证视频不变形")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(".mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-bsf:v")]),a._v(" h264_mp4toannexb "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" mpegts tmp1.ts\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(".mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-bsf:v")]),a._v(" h264_mp4toannexb "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" mpegts tmp2.ts\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(".mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-bsf:v")]),a._v(" h264_mp4toannexb "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" mpegts tmp3.ts\n\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-threads")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"concat:tmp1.ts|tmp2.ts|tmp3.ts"')]),a._v("  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"scale=720:1080:force_original_aspect_ratio=decrease,pad=720:1080:(ow-iw)/2:(oh-ih)/2"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pix_fmt")]),a._v(" yuvj420p "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-shortest")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" output.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),a._v(" "),s("p",[a._v("合并不同解码视频")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input1.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input2.webm "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input3.mov "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter_complex")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[0:v:0][0:a:0][1:v:0][1:a:0][2:v:0][2:a:0]concat=n=3:v=1:a=1[outv][outa]"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[outv]"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[outa]"')]),a._v(" output.mkv\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),a._v(" "),s("p",[a._v("合并视频并重新编码音频")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" concat "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" mylist.txt "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:v")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:a")]),a._v(" flac "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-strict")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-2")]),a._v(" output.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h2",{attrs:{id:"视频过滤器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#视频过滤器"}},[a._v("#")]),a._v(" 视频过滤器")]),a._v(" "),s("h3",{attrs:{id:"格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#格式"}},[a._v("#")]),a._v(" 格式")]),a._v(" "),s("p",[a._v("如果一个 fliter 有多个参数，需要使用 "),s("code",[a._v(",")]),a._v(" 分隔")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" test.avi "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:v")]),a._v(" libx264 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"scale=1024:-1,transpose=1,crop=iw/3:ih/3"')]),a._v(" output.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"缩放"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缩放"}},[a._v("#")]),a._v(" 缩放")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"scale=640:480"')]),a._v(" out.mp4\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -1 → 指根据另一个参数帮我们推断")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"scale=720:-1"')]),a._v(" out.mp4\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 宽度和高度")]),a._v("\nffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"scale=w=800:h=600"')]),a._v(" output.mp4\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# in_w\\in_h 输入尺寸")]),a._v("\nffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mkv "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"scale=w=1/2*in_w:h=1/2*in_h"')]),a._v(" output.mkv\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"裁剪"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#裁剪"}},[a._v("#")]),a._v(" 裁剪")]),a._v(" "),s("p",[a._v("从左上角开始，复制 "),s("code",[a._v("x=0px")]),a._v(" "),s("code",[a._v("y=0px")]),a._v(" 的相应窗口来创建 "),s("code",[a._v("1280x720")]),a._v(" 大小的输出视频")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"crop=w=1280:h=720:x=0:y=0"')]),a._v(" output.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("裁剪到宽度 360，高度 640，从坐标 (10, 20) 开始")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mov "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'crop=360:640:10:20'")]),a._v(" output.mov\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"去除水印"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#去除水印"}},[a._v("#")]),a._v(" 去除水印")]),a._v(" "),s("p",[a._v("设置一个矩形覆盖区域 x=10:y=10:w=120:h=45")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# show=1 为可选参数，设置显示边框，方便调试用的")]),a._v("\nffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(".mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b:v")]),a._v(" 548k "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("delogo")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("x"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(":y"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(":w"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("120")]),a._v(":h"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("45")]),a._v(":show"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" output.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"创建缩略图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建缩略图"}},[a._v("#")]),a._v(" 创建缩略图")]),a._v(" "),s("p",[a._v("在 10 秒时创建一个缩略图")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ss")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("input file"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vframes")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" png "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-an")]),a._v(" thumb.png\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("p",[a._v("例如，要每 "),s("code",[a._v("n")]),a._v(" 秒创建一次缩略图，请使用 "),s("code",[a._v("-vf fps=1/n")])]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("input file"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("fps")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/60 thumbnails/thumb%03d.png\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"添加水印"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加水印"}},[a._v("#")]),a._v(" 添加水印")]),a._v(" "),s("p",[a._v("在视频左上方 20,20 的位置插入 logo.png 图片")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -b:v 548k 可选参数，设置视频比特率，默认 200k 最好设置与原视频一致")]),a._v("\nffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(".mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" copy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b:v")]),a._v(" 548k "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"movie=logo.png[watermark];[in][watermark]overlay=20:20"')]),a._v(" output.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),a._v(" "),s("h3",{attrs:{id:"视频旋转"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#视频旋转"}},[a._v("#")]),a._v(" 视频旋转")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 顺时针旋转 90")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.avi "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"rotate=90*PI/180"')]),a._v(" out.mp4 \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 顺时针旋转 180，翻转 90")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"rotate=PI"')]),a._v(" out.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("h3",{attrs:{id:"更改视频播放速度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更改视频播放速度"}},[a._v("#")]),a._v(" 更改视频播放速度")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 加速 2 倍")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mkv "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"setpts=0.5*PTS"')]),a._v(" output.mkv \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 减速 2 倍")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"setpts=2*PTS"')]),a._v(" output.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("h3",{attrs:{id:"添加背景音乐"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加背景音乐"}},[a._v("#")]),a._v(" 添加背景音乐")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -t 10 文件时长，单位为秒，建议取值原始视频总时长")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(".mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" test.mp3 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter_complex")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[1:a]aloop=loop=-1:size=2e+09[out];[out][0:a]amix"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" out.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("h2",{attrs:{id:"音频过滤器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#音频过滤器"}},[a._v("#")]),a._v(" 音频过滤器")]),a._v(" "),s("h3",{attrs:{id:"调节音量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调节音量"}},[a._v("#")]),a._v(" 调节音量")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 增大音量")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" test.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-af")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"volumn=1.5"')]),a._v(" out.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"更改音频速度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更改音频速度"}},[a._v("#")]),a._v(" 更改音频速度")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.wav "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-af")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"atempo=0.75"')]),a._v(" output.wav \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 加速 4 倍")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp3 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-af")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"atempo=2.0,atempo=2.0"')]),a._v(" ouutput.mp3\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[s("code",[a._v("atempo")]),a._v(" 它只接受 "),s("code",[a._v("0.5")]),a._v("(半速) 到 "),s("code",[a._v("2")]),a._v(" (倍速)之间的值。为了越过这个限制，你可以链式使用这个过滤器")]),a._v(" "),s("h3",{attrs:{id:"统一视频的音量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#统一视频的音量"}},[a._v("#")]),a._v(" 统一视频的音量")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" test.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-af")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"loudnorm=I=-5:LRA=1"')]),a._v(" out.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"重新映射通道数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重新映射通道数"}},[a._v("#")]),a._v(" 重新映射通道数")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 使左右耳的声音同时出现")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp3 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-af")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"channelmap=1-0|1-1"')]),a._v(" output.mp3\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h2",{attrs:{id:"流处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#流处理"}},[a._v("#")]),a._v(" 流处理")]),a._v(" "),s("h3",{attrs:{id:"拉流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拉流"}},[a._v("#")]),a._v(" 拉流")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 拉取rtmp流并存储到本地")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"rtsp://127.0.0.1/test"')]),a._v(" test.mp4\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"推流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#推流"}},[a._v("#")]),a._v(" 推流")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 推送test.mp4到远程")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-re")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" test.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" flv rtmp://127.0.0.1/test\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"转发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#转发"}},[a._v("#")]),a._v(" 转发")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 拉取流并转发")]),a._v("\n$ ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"rtsp://127.0.0.1/test"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" mpegts "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-codec:v")]),a._v(" mpeg1video http://127.0.0.1/demo\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h2",{attrs:{id:"另见"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#另见"}},[a._v("#")]),a._v(" 另见")]),a._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://ffmpeg.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("FFmpeg 官网地址"),s("OutboundLink")],1),a._v(" "),s("em",[a._v("(ffmpeg.org)")])]),a._v(" "),s("li",[s("a",{attrs:{href:"https://lzone.de/cheat-sheet/ffmpeg",target:"_blank",rel:"noopener noreferrer"}},[a._v("FFmpeg Cheat Sheet"),s("OutboundLink")],1),a._v(" "),s("em",[a._v("(lzone.de)")])]),a._v(" "),s("li",[s("a",{attrs:{href:"https://devhints.io/ffmpeg",target:"_blank",rel:"noopener noreferrer"}},[a._v("FFmpeg Cheat Sheet"),s("OutboundLink")],1),a._v(" "),s("em",[a._v("(devhints.io)")])]),a._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/yuanqing/ffmpeg-cheatsheet",target:"_blank",rel:"noopener noreferrer"}},[a._v("FFmpeg Cheat Sheet"),s("OutboundLink")],1),a._v(" "),s("em",[a._v("(github.com)")])]),a._v(" "),s("li",[s("a",{attrs:{href:"https://cheatography.com/thetartankilt/cheat-sheets/ffmpeg/",target:"_blank",rel:"noopener noreferrer"}},[a._v("FFmpeg Cheat Sheet"),s("OutboundLink")],1),a._v(" "),s("em",[a._v("(cheatography.com)")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);