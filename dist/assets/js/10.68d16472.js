(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{283:function(s,t,a){"use strict";a.r(t);var e=a(14),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"cargo-备忘清单"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cargo-备忘清单"}},[s._v("#")]),s._v(" Cargo 备忘清单")]),s._v(" "),t("p",[s._v("此快速参考备忘清单 "),t("a",{attrs:{href:"https://conan.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Cargo"),t("OutboundLink")],1),s._v(" 提供了编译 "),t("RouterLink",{attrs:{to:"/command/rust.html"}},[s._v("Rust")]),s._v(" 常用命令和示例")],1),s._v(" "),t("h2",{attrs:{id:"入门"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#入门"}},[s._v("#")]),s._v(" 入门")]),s._v(" "),t("h3",{attrs:{id:"安装-升级-rust-和-cargo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-升级-rust-和-cargo"}},[s._v("#")]),s._v(" 安装/升级 Rust 和 Cargo")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-sSf")]),s._v(" https://static.rust-lang.org/rustup.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),s._v(" "),t("p",[s._v("在 Linux 和 macOS 系统上，这可以通过以上方命令完成")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/rust-lang/cargo",target:"_blank",rel:"noopener noreferrer"}},[s._v("Cargo 开源仓库"),t("OutboundLink")],1),s._v(" "),t("em",[s._v("(github.com)")])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://doc.rust-lang.org/cargo",target:"_blank",rel:"noopener noreferrer"}},[s._v("Cargo 官网"),t("OutboundLink")],1),s._v(" "),t("em",[s._v("(doc.rust-lang.org)")])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.rustwiki.org.cn/zh-CN/cargo/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Cargo 官网(中文)"),t("OutboundLink")],1),s._v(" "),t("em",[s._v("(rustwiki.org.cn)")])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://crates.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Rust 社区的 crate 仓库"),t("OutboundLink")],1),s._v(" "),t("em",[s._v("(crates.io)")])])]),s._v(" "),t("h3",{attrs:{id:"命令说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令说明"}},[s._v("#")]),s._v(" 命令说明")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[s._v(":-")]),s._v(" "),t("th",{staticStyle:{"text-align":"left"}},[s._v(":-")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("cargo version")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("显示版本信息以确认 Cargo 已安装")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("cargo new")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("创建一个新项目")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("cargo test")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("在项目中运行单元测试")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("cargo check")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("快速编译项目，无需生成二进制文件来检查错误")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("cargo fmt")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("自动格式化代码")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("cargo build")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("编译一个项目")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("cargo run")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("一步编译和运行项目")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("cargo clippy --all-targets -- --D warnings")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("Linter 检查错误")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("cargo tarpaulin --ignore-tests")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("检查代码覆盖率")])])])]),s._v(" "),t("h3",{attrs:{id:"切换源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#切换源"}},[s._v("#")]),s._v(" 切换源")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" ~/.cargo/config "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加配置文件")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.cargo/config   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑配置文件")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("配置文件 "),t("code",[s._v("config")]),s._v(" 内容")]),s._v(" "),t("div",{staticClass:"language-toml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-toml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("source.crates-io")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("registry")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/rust-lang/crates.io-index"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("replace-with")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tuna'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 👈 如果需要提交包注释配置源")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("source.tuna")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("registry")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# registry = "git://mirrors.ustc.edu.cn/crates.io-index"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("💥 注意切换源需要删除缓存目录")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" ~/.cargo/.package-cache   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ⚠️ 删除缓存目录内容")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"创建新项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建新项目"}},[s._v("#")]),s._v(" 创建新项目")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" new hello_world "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--bin")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("hr"),s._v(" "),t("ul",[t("li",[t("code",[s._v("--bin")]),s._v(" 正在制作一个二进制程序")]),s._v(" "),t("li",[t("code",[s._v("--lib")]),s._v(" 正在创建一个库(lib)")])]),s._v(" "),t("p",[s._v("得到如下目录:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" hello_world\n$ tree "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n├── Cargo.toml\n└── src\n    └── main.rs\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[t("code",[s._v("Cargo.toml")]),s._v(" 被称为一个 "),t("code",[s._v("manifest")]),s._v(" 元清单，它包含了 "),t("code",[s._v("Cargo")]),s._v(" 编译项目所需的所有元数据")]),s._v(" "),t("div",{staticClass:"language-toml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-toml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("package")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("name")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello_world"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("version")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.1.0"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("authors")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Your Name <you@example.com>"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("edition")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2018"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("dependencies")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("入口文件 "),t("code",[s._v("src/main.rs")])]),s._v(" "),t("div",{staticClass:"language-rust line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rust"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fn")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-definition function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("println!")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello, world!"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("运行编译生成 "),t("code",[s._v("hello_world")]),s._v(" 二进制文件")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" build\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 文件放入 `target/release` 目录")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" build "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--release")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("然后运行它:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ ./target/debug/hello_world\nHello, world"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("也可以直接使用 "),t("code",[s._v("cargo run")]),s._v("，它会自行"),t("code",[s._v("编译")]),s._v("并"),t("code",[s._v("运行")]),s._v("它:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" run\n   Running "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("target/hello_world"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\nHello, world"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"来源配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#来源配置"}},[s._v("#")]),s._v(" 来源配置")]),s._v(" "),t("div",{staticClass:"language-toml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-toml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# `source` 表下，就是存储有关要更换的来源名称")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("source")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在`source` 表格之下的，可为一定数量的有关来源名称. 示例下面就，定义了一个新源， 叫 `my-awesome-source`，其内容来自本地，`vendor`目录 ，其相对于包含 `.cargo/config` 文件的目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("source.my-awesome-source")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("directory")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vendor"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Git sources 也指定一个 branch/tag/rev")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://example.com/path/to/repo"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# branch = "master"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# tag = "v1.0.1"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# rev = "313f44e8"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# crates.io 默认源 在"crates-io"名称下，且在这里我们使用 `replace-with` 字段指明 默认源更换成"my-awesome-source"源')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("source.crates-io")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("replace-with")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-awesome-source"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),s._v(" "),t("h3",{attrs:{id:"编译测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译测试"}},[s._v("#")]),s._v(" 编译测试")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编译输出二进制文件，放入 `target/debug` 目录")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" build\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出二进制文件，放入 `target/release` 目录")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" build "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--release")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" run      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编译并运行")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h4",{attrs:{id:"测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[s._v("#")]),s._v(" 测试")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行你的所有测试")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定函数过滤器")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" test_foo "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开头是 test_foo 的函数都会运行，例如(test_foo_bar)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定特定模块中的测试函数(通常可以简写 cargo test foo::bar::tests::test_foo)")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--package")]),s._v(" rustt "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--lib")]),s._v(" -- foo::bar::tests::test_foo "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--exact")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nocapture")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定特定测试的模块(通常可以简写 cargo test foo::bar::tests)")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--package")]),s._v(" rustt "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--lib")]),s._v(" -- foo::bar::tests "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nocapture")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),s._v(" "),t("h3",{attrs:{id:"配置目标"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置目标"}},[s._v("#")]),s._v(" 配置目标")]),s._v(" "),t("div",{staticClass:"language-toml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-toml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("package")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("lib")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成目标与库的名称. 本该默认是包名, 替换所有破折号为 下划线. (Rust `extern crate` 声明会参考该名；因此，该值必须是可用的有效Rust标识符)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("name")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"foo"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 该字段，指向 crate 的入口(位置), 路径相对于 `Cargo.toml`.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("path")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src/lib.rs"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一个给目标启用单元测试 的 标志. 会被 `cargo test`使用.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("test")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一个给目标启用文档测试 的 标志. 只与库相关, 不会影响其他部分。会被 `cargo test`使用.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("doctest")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一个给目标启用基准 的 标志. 会被 `cargo bench`使用.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("bench")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一个给目标启用文档 的 标志. 会被 `cargo doc`使用.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("doc")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 若该目标为 编译器扩展, 那要把该字段设为 true，以让 Cargo 正确编译和，可用于所有依赖项.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("plugin")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 若该目标为 "macros 1.1" 程序宏, 那要把该字段设为 true')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("proc-macro")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 若设为 false, `cargo test` 会为 rustc 省略 `--test` 标志, 这阻止它生成测试工具 这在二进制存在，构建管理测试运行器本身的情况下，有用.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("harness")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 若设置了，那 目标会使用一个与`[package]`配置不同的版本, 也许是，编译一个库 2018年版本或，编译单元测试的2015年版本. 默认情况下所有目标都使用`[package]`中指定的版本进行编译。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("edition")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2015'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),s._v(" "),t("h3",{attrs:{id:"项目目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目目录"}},[s._v("#")]),s._v(" 项目目录")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n├── Cargo.lock\n├── Cargo.toml\n├── benches     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 基准目录")]),s._v("\n│   └── large-input.rs\n├── examples    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例")]),s._v("\n│   └── simple.rs\n├── src         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 源代码")]),s._v("\n│   ├── bin\n│   │   └── another_executable.rs\n│   ├── lib.rs  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认库")]),s._v("\n│   └── main.rs "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 入口文件")]),s._v("\n└── tests       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 集成测试")]),s._v("\n    └── some-integration-tests.rs\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),t("div",{staticClass:"language-toml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-toml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每个源都有自己的表格，名称即是表名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("source.the-source-name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 命令 `the-source-name` 会被 `another-source`取代")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("replace-with")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"another-source"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 有几种可用的源定义(接下来有所描述)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("registry")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://example.com/path/to/index"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("local-registry")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path/to/registry"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("directory")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path/to/vendor"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),s._v(" "),t("p",[s._v("更换源的配置通过完成 "),t("code",[s._v(".cargo/config")]),s._v("，上面是全套可用字段")]),s._v(" "),t("h2",{attrs:{id:"包相关命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#包相关命令"}},[s._v("#")]),s._v(" 包相关命令")]),s._v(" "),t("h3",{attrs:{id:"init-new"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#init-new"}},[s._v("#")]),s._v(" init/new")]),s._v(" "),t("p",[s._v("创建一个新的 "),t("code",[s._v("cargo")]),s._v(" 包")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" init "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" new "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("--bin")]),s._v(" 创建具有二进制目标 (src/main.rs) 的包(默认行为)")]),s._v(" "),t("li",[t("code",[s._v("--lib")]),s._v(" 使用库目标 (src/lib.rs) 创建一个包")]),s._v(" "),t("li",[t("code",[s._v("--edition edition")]),s._v(" 指定要使用的 Rust 版本。默认值为 "),t("code",[s._v("2021")]),s._v("。可能的值：2015、2018、2021")]),s._v(" "),t("li",[t("code",[s._v("--name name")]),s._v(" 设置包名。默认为目录名称")]),s._v(" "),t("li",[t("code",[s._v("--vcs vcs")]),s._v(" 为给定的版本控制系统（git、hg、pijul 或fossil）初始化一个新的 VCS 存储库，或者根本不初始化任何版本控制（无）")]),s._v(" "),t("li",[t("code",[s._v("--registry registry")]),s._v(" 限制仅发布到该注册表\n")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" new foo\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装包"}},[s._v("#")]),s._v(" 安装包")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从 crates.io 安装或升级软件包：")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" ripgrep\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在当前目录安装或重新安装包：")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--path")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看已安装包的列表：")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--list")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("hr"),s._v(" "),t("ul",[t("li",[t("code",[s._v("--vers version")])]),s._v(" "),t("li",[t("code",[s._v("--version version")]),s._v(" 指定要安装的版本")]),s._v(" "),t("li",[t("code",[s._v("--git url")]),s._v(" 用于安装指定 crate 的 Git URL")]),s._v(" "),t("li",[t("code",[s._v("--branch branch")]),s._v(" 从 git 安装时要使用的分支")]),s._v(" "),t("li",[t("code",[s._v("--tag tag")]),s._v(" 从 git 安装时使用的标记")]),s._v(" "),t("li",[t("code",[s._v("--rev sha")]),s._v(" 从 git 安装时使用的特定提交")]),s._v(" "),t("li",[t("code",[s._v("--path path")]),s._v(" 要安装的本地 crate 的文件系统路径")]),s._v(" "),t("li",[t("code",[s._v("--list")]),s._v(" 列出所有已安装的软件包及其版本")]),s._v(" "),t("li",[t("code",[s._v("-f")]),s._v(", "),t("code",[s._v("--force")]),s._v(" 强制覆盖现有的 crate 或二进制文件")])]),s._v(" "),t("h3",{attrs:{id:"搜索包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#搜索包"}},[s._v("#")]),s._v(" 搜索包")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" search "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("query"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("--limit limit")]),s._v(" 限制结果数量(默认值：10，最大值：100)")]),s._v(" "),t("li",[t("code",[s._v("--index index")]),s._v(" 要使用的注册表索引的 URL")]),s._v(" "),t("li",[t("code",[s._v("--registry registry")]),s._v(" 要使用的注册表的名称")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" search serde\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"卸载包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#卸载包"}},[s._v("#")]),s._v(" 卸载包")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" uninstall "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("spec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("-p")]),s._v(", "),t("code",[s._v("--package spec...")]),s._v(" 要卸载的软件包")]),s._v(" "),t("li",[t("code",[s._v("--bin name...")]),s._v(" 仅卸载二进制名称")]),s._v(" "),t("li",[t("code",[s._v("--root dir")]),s._v(" 从中卸载软件包的目录")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" uninstall ripgrep\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"发布命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发布命令"}},[s._v("#")]),s._v(" 发布命令")]),s._v(" "),t("h3",{attrs:{id:"登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#登录"}},[s._v("#")]),s._v(" 登录")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" login "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("token"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("hr"),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[s._v(":-")]),s._v(" "),t("th",{staticStyle:{"text-align":"left"}},[s._v(":-")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("--registry")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("要使用的注册表的名称")])])])]),s._v(" "),t("hr"),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[s._v(":-")]),s._v(" "),t("th",{staticStyle:{"text-align":"left"}},[s._v(":-")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("-v")]),s._v(", "),t("code",[s._v("--verbose")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("启用更加详细的输出")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("-q")]),s._v(", "),t("code",[s._v("--quiet")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("不输出Cargo的日志信息")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("--color when")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("输出内容的颜色 "),t("code",[s._v("auto")]),s._v(", "),t("code",[s._v("always")]),s._v(", "),t("code",[s._v("never")])])])])]),s._v(" "),t("h3",{attrs:{id:"所有者"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#所有者"}},[s._v("#")]),s._v(" 所有者")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出包的所有者：")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" owner "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--list")]),s._v(" foo\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 邀请所有者加入包：")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" owner "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--add")]),s._v(" username foo\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从包中删除所有者：")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" owner "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--remove")]),s._v(" username foo\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("hr"),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[s._v(":-")]),s._v(" "),t("th",{staticStyle:{"text-align":"left"}},[s._v(":-")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("--token token")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("身份验证时使用的 API 令牌")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("--index index")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("要使用的注册表索引的 URL")])])])]),s._v(" "),t("h3",{attrs:{id:"打包-发布公共选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#打包-发布公共选项"}},[s._v("#")]),s._v(" 打包 & 发布公共选项")]),s._v(" "),t("p",[s._v("选择包")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-p spec...")]),s._v(", "),t("code",[s._v("--package spec...")]),s._v(" Package 指定包")]),s._v(" "),t("li",[t("code",[s._v("--workspace")]),s._v(" Package 工作区中的全体成员")]),s._v(" "),t("li",[t("code",[s._v("--exclude SPEC...")]),s._v(" 排除指定包")])]),s._v(" "),t("p",[s._v("编译选项")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("--target triple")]),s._v(" 为指定架构执行 Package")]),s._v(" "),t("li",[t("code",[s._v("--target-dir directory")]),s._v(" 用于存放生成的工件以及中间文件的目录")])]),s._v(" "),t("p",[s._v("特性选择")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("--features features")]),s._v(" 传递以空格或者逗号分隔的列表，其中给出要启用的特性")]),s._v(" "),t("li",[t("code",[s._v("--all-features")]),s._v(" 为给定的包启用全部可用特性")]),s._v(" "),t("li",[t("code",[s._v("--no-default-features")]),s._v(" 不启用给定包的default特性")])]),s._v(" "),t("p",[s._v("清单选项")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("--manifest-path path")]),s._v(" 用于指定 Cargo.toml 文件的路径")]),s._v(" "),t("li",[t("code",[s._v("--frozen")]),s._v(", "),t("code",[s._v("--locked")]),s._v(" 这两个选项用于保证Cargo.lock文件是最新的")]),s._v(" "),t("li",[t("code",[s._v("--offline")]),s._v(" 禁止Cargo访问网络")])]),s._v(" "),t("p",[s._v("混杂选项")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-j N")]),s._v(", "),t("code",[s._v("--jobs N")]),s._v(" 要并行运行的作业数量")])]),s._v(" "),t("h3",{attrs:{id:"打包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#打包"}},[s._v("#")]),s._v(" 打包")]),s._v(" "),t("p",[s._v("将本地包打包为可分发的压缩文件")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" package "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("hr"),s._v(" "),t("ul",[t("li",[t("code",[s._v("-l")]),s._v(", "),t("code",[s._v("--list")]),s._v(" 输出包中包含的文件(不实际进行打包)。")]),s._v(" "),t("li",[t("code",[s._v("--no-verify")]),s._v(" 构建包时不进行校验。")]),s._v(" "),t("li",[t("code",[s._v("--no-metadata")]),s._v(" 忽略 缺少可读的元信息(如描述信息或采用的授权协议) 时产生的警告。")]),s._v(" "),t("li",[t("code",[s._v("--allow-dirty")]),s._v(" 允许打包 在版本控制系统中仍有未提交内容 的包。")])]),s._v(" "),t("h3",{attrs:{id:"发布"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发布"}},[s._v("#")]),s._v(" 发布")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" publish "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("发布选项")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("--dry-run")]),s._v(" 在不上传的情况下执行所有检查")]),s._v(" "),t("li",[t("code",[s._v("--token token")]),s._v(" 身份验证时使用的 API 令牌")]),s._v(" "),t("li",[t("code",[s._v("--no-verify")]),s._v(" 不要通过构建内容来验证内容")]),s._v(" "),t("li",[t("code",[s._v("--allow-dirty")]),s._v(" 允许打包具有未提交的 VCS 更改的工作目录")]),s._v(" "),t("li",[t("code",[s._v("--index index")]),s._v(" 要使用的注册表索引的 URL")]),s._v(" "),t("li",[t("code",[s._v("--registry registry")]),s._v(" 要发布到的注册表的名称")])]),s._v(" "),t("p",[s._v("打包选择")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-p spec")]),s._v(", "),t("code",[s._v("--package spec")]),s._v(" 要发布的包")])]),s._v(" "),t("h3",{attrs:{id:"yank"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yank"}},[s._v("#")]),s._v(" yank")]),s._v(" "),t("p",[s._v("从服务器的索引中删除以前发布的 crate 版本")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" yank "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--vers")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(".7 foo\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("--vers version")]),s._v(" 要 yank 或 un-yank 的版本")]),s._v(" "),t("li",[t("code",[s._v("--undo")]),s._v(" 撤消 yank，将版本放回索引中")]),s._v(" "),t("li",[t("code",[s._v("--token token")]),s._v(" 身份验证时使用的 API 令牌")]),s._v(" "),t("li",[t("code",[s._v("--index index")]),s._v(" 要使用的注册表索引的 URL")]),s._v(" "),t("li",[t("code",[s._v("--registry registry")]),s._v(" 要使用的注册表名称")])]),s._v(" "),t("h2",{attrs:{id:"另见"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#另见"}},[s._v("#")]),s._v(" 另见")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://doc.rust-lang.org/stable/cargo/",target:"_blank",rel:"noopener noreferrer"}},[s._v("The Cargo Book"),t("OutboundLink")],1),s._v(" "),t("em",[s._v("(doc.rust-lang.org)")])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.rustwiki.org.cn/zh-CN/cargo/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Cargo 手册 中文版"),t("OutboundLink")],1),s._v(" "),t("em",[s._v("(rustwiki.org.cn)")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);