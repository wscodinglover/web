<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>文档搬运工</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="学习笔记，包含前端开发、后端开发、服务器运维等">
    
    <link rel="preload" href="/assets/css/0.styles.fad71e8e.css" as="style"><link rel="preload" href="/assets/js/app.c8ed8bcf.js" as="script"><link rel="preload" href="/assets/js/2.f44a4f26.js" as="script"><link rel="preload" href="/assets/js/30.fea18838.js" as="script"><link rel="prefetch" href="/assets/js/10.68d16472.js"><link rel="prefetch" href="/assets/js/100.9d57c6dd.js"><link rel="prefetch" href="/assets/js/101.7685a749.js"><link rel="prefetch" href="/assets/js/102.1dae5789.js"><link rel="prefetch" href="/assets/js/103.31c8c6f7.js"><link rel="prefetch" href="/assets/js/104.1aabc831.js"><link rel="prefetch" href="/assets/js/105.f188b2cc.js"><link rel="prefetch" href="/assets/js/106.7706f598.js"><link rel="prefetch" href="/assets/js/107.98bf6cba.js"><link rel="prefetch" href="/assets/js/108.78c41dbf.js"><link rel="prefetch" href="/assets/js/109.a8c6ac5f.js"><link rel="prefetch" href="/assets/js/11.e0ba19d3.js"><link rel="prefetch" href="/assets/js/110.2cccc8fa.js"><link rel="prefetch" href="/assets/js/111.19a4e086.js"><link rel="prefetch" href="/assets/js/112.d940b1c0.js"><link rel="prefetch" href="/assets/js/113.58a5e756.js"><link rel="prefetch" href="/assets/js/114.950b8113.js"><link rel="prefetch" href="/assets/js/115.9712a524.js"><link rel="prefetch" href="/assets/js/116.dacaa4fa.js"><link rel="prefetch" href="/assets/js/117.a91f9e15.js"><link rel="prefetch" href="/assets/js/118.84772b6e.js"><link rel="prefetch" href="/assets/js/119.6e3567ca.js"><link rel="prefetch" href="/assets/js/12.67495675.js"><link rel="prefetch" href="/assets/js/120.9eb24a02.js"><link rel="prefetch" href="/assets/js/121.38bbf647.js"><link rel="prefetch" href="/assets/js/122.2f7ab3f4.js"><link rel="prefetch" href="/assets/js/123.419b99f0.js"><link rel="prefetch" href="/assets/js/124.4764bbe8.js"><link rel="prefetch" href="/assets/js/125.87d74ae9.js"><link rel="prefetch" href="/assets/js/126.3bbeef41.js"><link rel="prefetch" href="/assets/js/127.8bdba5aa.js"><link rel="prefetch" href="/assets/js/128.029c8965.js"><link rel="prefetch" href="/assets/js/129.ee2d4363.js"><link rel="prefetch" href="/assets/js/13.6727ab98.js"><link rel="prefetch" href="/assets/js/130.42157c82.js"><link rel="prefetch" href="/assets/js/131.f62c81df.js"><link rel="prefetch" href="/assets/js/14.70b0cf01.js"><link rel="prefetch" href="/assets/js/15.ba9580a7.js"><link rel="prefetch" href="/assets/js/16.1a8c733f.js"><link rel="prefetch" href="/assets/js/17.6657a227.js"><link rel="prefetch" href="/assets/js/18.65942dbb.js"><link rel="prefetch" href="/assets/js/19.7d801cca.js"><link rel="prefetch" href="/assets/js/20.7ca56ddb.js"><link rel="prefetch" href="/assets/js/21.a30264d9.js"><link rel="prefetch" href="/assets/js/22.fca662dd.js"><link rel="prefetch" href="/assets/js/23.1a059155.js"><link rel="prefetch" href="/assets/js/24.d9971ac4.js"><link rel="prefetch" href="/assets/js/25.6c1d4926.js"><link rel="prefetch" href="/assets/js/26.21e8c7b4.js"><link rel="prefetch" href="/assets/js/27.cfff7ef0.js"><link rel="prefetch" href="/assets/js/28.405bf1b8.js"><link rel="prefetch" href="/assets/js/29.3872d2cb.js"><link rel="prefetch" href="/assets/js/3.d00959e5.js"><link rel="prefetch" href="/assets/js/31.364afb36.js"><link rel="prefetch" href="/assets/js/32.3a14b962.js"><link rel="prefetch" href="/assets/js/33.ebb8c231.js"><link rel="prefetch" href="/assets/js/34.bbba3f86.js"><link rel="prefetch" href="/assets/js/35.ebc83e54.js"><link rel="prefetch" href="/assets/js/36.949b4b98.js"><link rel="prefetch" href="/assets/js/37.63a219a5.js"><link rel="prefetch" href="/assets/js/38.2abdd62c.js"><link rel="prefetch" href="/assets/js/39.f31baba8.js"><link rel="prefetch" href="/assets/js/4.7ac2b204.js"><link rel="prefetch" href="/assets/js/40.f1973b4d.js"><link rel="prefetch" href="/assets/js/41.b2b7deaa.js"><link rel="prefetch" href="/assets/js/42.94a89008.js"><link rel="prefetch" href="/assets/js/43.cb36fa9a.js"><link rel="prefetch" href="/assets/js/44.d3cdaea4.js"><link rel="prefetch" href="/assets/js/45.6cedb636.js"><link rel="prefetch" href="/assets/js/46.d7f3520c.js"><link rel="prefetch" href="/assets/js/47.c34ac17e.js"><link rel="prefetch" href="/assets/js/48.d9fffe3c.js"><link rel="prefetch" href="/assets/js/49.a8a8fe51.js"><link rel="prefetch" href="/assets/js/5.f702624b.js"><link rel="prefetch" href="/assets/js/50.d67120fa.js"><link rel="prefetch" href="/assets/js/51.828b01e6.js"><link rel="prefetch" href="/assets/js/52.a09e7b67.js"><link rel="prefetch" href="/assets/js/53.78d609f7.js"><link rel="prefetch" href="/assets/js/54.56dd39fd.js"><link rel="prefetch" href="/assets/js/55.59d3c972.js"><link rel="prefetch" href="/assets/js/56.e8d448dc.js"><link rel="prefetch" href="/assets/js/57.b25a333a.js"><link rel="prefetch" href="/assets/js/58.3a58c623.js"><link rel="prefetch" href="/assets/js/59.d45955ca.js"><link rel="prefetch" href="/assets/js/6.c76c0e1e.js"><link rel="prefetch" href="/assets/js/60.70ea5158.js"><link rel="prefetch" href="/assets/js/61.39efc969.js"><link rel="prefetch" href="/assets/js/62.492b7cb3.js"><link rel="prefetch" href="/assets/js/63.c955736f.js"><link rel="prefetch" href="/assets/js/64.7249d228.js"><link rel="prefetch" href="/assets/js/65.df7d1f53.js"><link rel="prefetch" href="/assets/js/66.0993568b.js"><link rel="prefetch" href="/assets/js/67.ef9dd414.js"><link rel="prefetch" href="/assets/js/68.65bb0d00.js"><link rel="prefetch" href="/assets/js/69.5e0c247c.js"><link rel="prefetch" href="/assets/js/7.96bc15e3.js"><link rel="prefetch" href="/assets/js/70.f563832a.js"><link rel="prefetch" href="/assets/js/71.f9db52a9.js"><link rel="prefetch" href="/assets/js/72.704dde50.js"><link rel="prefetch" href="/assets/js/73.f196359d.js"><link rel="prefetch" href="/assets/js/74.616d3b86.js"><link rel="prefetch" href="/assets/js/75.8a040688.js"><link rel="prefetch" href="/assets/js/76.bb1c773f.js"><link rel="prefetch" href="/assets/js/77.764a298e.js"><link rel="prefetch" href="/assets/js/78.7a1fb4f4.js"><link rel="prefetch" href="/assets/js/79.6c2f29c0.js"><link rel="prefetch" href="/assets/js/8.f652ff79.js"><link rel="prefetch" href="/assets/js/80.2d0b63c6.js"><link rel="prefetch" href="/assets/js/81.3aa6d63c.js"><link rel="prefetch" href="/assets/js/82.26b67013.js"><link rel="prefetch" href="/assets/js/83.04d03012.js"><link rel="prefetch" href="/assets/js/84.c2c2bb57.js"><link rel="prefetch" href="/assets/js/85.529d11ae.js"><link rel="prefetch" href="/assets/js/86.4c1e0495.js"><link rel="prefetch" href="/assets/js/87.fd3ba140.js"><link rel="prefetch" href="/assets/js/88.bda10190.js"><link rel="prefetch" href="/assets/js/89.adb017da.js"><link rel="prefetch" href="/assets/js/9.6b06aa53.js"><link rel="prefetch" href="/assets/js/90.a8757e00.js"><link rel="prefetch" href="/assets/js/91.a492ff4f.js"><link rel="prefetch" href="/assets/js/92.c6410bf2.js"><link rel="prefetch" href="/assets/js/93.5ec8e566.js"><link rel="prefetch" href="/assets/js/94.a0e9ad4f.js"><link rel="prefetch" href="/assets/js/95.3010b85f.js"><link rel="prefetch" href="/assets/js/96.99ce2ecd.js"><link rel="prefetch" href="/assets/js/97.91811599.js"><link rel="prefetch" href="/assets/js/98.3becd40f.js"><link rel="prefetch" href="/assets/js/99.a166247a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fad71e8e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">文档搬运工</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/feds.html" class="nav-link">
  前端导航
</a></li><li class="dropdown-item"><!----> <a href="/frontend/css.html" class="nav-link">
  CSS3
</a></li><li class="dropdown-item"><!----> <a href="/frontend/electron.html" class="nav-link">
  Electron
</a></li><li class="dropdown-item"><!----> <a href="/frontend/es6.html" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/frontend/styled-components.html" class="nav-link">
  Styled Components
</a></li><li class="dropdown-item"><!----> <a href="/frontend/stylus.html" class="nav-link">
  Stylus
</a></li><li class="dropdown-item"><!----> <a href="/frontend/sass.html" class="nav-link">
  Sass
</a></li><li class="dropdown-item"><!----> <a href="/frontend/html.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/frontend/javascript.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/jquery.html" class="nav-link">
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/frontend/lessjs.html" class="nav-link">
  Less
</a></li><li class="dropdown-item"><!----> <a href="/frontend/nextjs.html" class="nav-link">
  Next
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/frontend/reactrouter.html" class="nav-link">
  React Router
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react-native.html" class="nav-link">
  React Native
</a></li><li class="dropdown-item"><!----> <a href="/frontend/regex.html" class="nav-link">
  Regex 正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tailwindcss.html" class="nav-link">
  Tailwind CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue2.html" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue.html" class="nav-link">
  Vue3
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程" class="dropdown-title"><span class="title">编程</span> <span class="arrow down"></span></button> <button type="button" aria-label="编程" class="mobile-dropdown-title"><span class="title">编程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/program/bash.html" class="nav-link">
  Bash
</a></li><li class="dropdown-item"><!----> <a href="/program/c.html" class="nav-link">
  C
</a></li><li class="dropdown-item"><!----> <a href="/program/cpp.html" class="nav-link">
  C++
</a></li><li class="dropdown-item"><!----> <a href="/program/dart.html" class="nav-link">
  Dart
</a></li><li class="dropdown-item"><!----> <a href="/program/docker.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/program/flutter.html" class="nav-link">
  Flutter
</a></li><li class="dropdown-item"><!----> <a href="/program/golang.html" class="nav-link">
  Golang
</a></li><li class="dropdown-item"><!----> <a href="/program/graphql.html" class="nav-link">
  GraphQL
</a></li><li class="dropdown-item"><!----> <a href="/program/java.html" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/program/json.html" class="nav-link">
  JSON
</a></li><li class="dropdown-item"><!----> <a href="/program/kubernetes.html" class="nav-link">
  Kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/program/markdown.html" class="nav-link">
  Markdown
</a></li><li class="dropdown-item"><!----> <a href="/program/matlab.html" class="nav-link">
  MATLAB
</a></li><li class="dropdown-item"><!----> <a href="/program/php.html" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/program/python.html" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/program/ruby.html" class="nav-link">
  Ruby
</a></li><li class="dropdown-item"><!----> <a href="/program/rust.html" class="nav-link">
  Rust
</a></li><li class="dropdown-item"><!----> <a href="/program/swift.html" class="nav-link">
  Swift
</a></li><li class="dropdown-item"><!----> <a href="/program/swiftui.html" class="nav-link">
  SwiftUI
</a></li><li class="dropdown-item"><!----> <a href="/program/yaml.html" class="nav-link">
  YAML
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Nodejs" class="dropdown-title"><span class="title">Nodejs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Nodejs" class="mobile-dropdown-title"><span class="title">Nodejs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/nodejs/expressjs.html" class="nav-link">
  Express.js
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/jest.html" class="nav-link">
  Jest
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/koajs.html" class="nav-link">
  Koa.js
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/lerna.html" class="nav-link">
  Lerna
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/npm.html" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/nestjs.html" class="nav-link">
  NestJS
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/pm2.html" class="nav-link">
  PM2
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/package.json.html" class="nav-link">
  Package.json
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/yarn.html" class="nav-link">
  Yarn
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/emacs.html" class="nav-link">
  Emacs
</a></li><li class="dropdown-item"><!----> <a href="/tool/github.html" class="nav-link">
  Github
</a></li><li class="dropdown-item"><!----> <a href="/tool/nginx.html" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/tool/semver.html" class="nav-link">
  Semver
</a></li><li class="dropdown-item"><!----> <a href="/tool/vim.html" class="nav-link">
  Vim
</a></li><li class="dropdown-item"><!----> <a href="/tool/xpath.html" class="nav-link">
  XPath
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="命令" class="dropdown-title"><span class="title">命令</span> <span class="arrow down"></span></button> <button type="button" aria-label="命令" class="mobile-dropdown-title"><span class="title">命令</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/command/adb.html" class="nav-link">
  ADB, Android Debug Bridge
</a></li><li class="dropdown-item"><!----> <a href="/command/conan.html" class="nav-link">
  Conan
</a></li><li class="dropdown-item"><!----> <a href="/command/conda.html" class="nav-link">
  Conda
</a></li><li class="dropdown-item"><!----> <a href="/command/cocoapods.html" class="nav-link">
  CocoaPods
</a></li><li class="dropdown-item"><!----> <a href="/command/cargo.html" class="nav-link">
  Cargo
</a></li><li class="dropdown-item"><!----> <a href="/command/curl.html" class="nav-link">
  Curl
</a></li><li class="dropdown-item"><!----> <a href="/command/chmod.html" class="nav-link">
  Chmod
</a></li><li class="dropdown-item"><!----> <a href="/command/cron.html" class="nav-link">
  Cron
</a></li><li class="dropdown-item"><!----> <a href="/command/cmake.html" class="nav-link">
  CMake
</a></li><li class="dropdown-item"><!----> <a href="/command/make.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Make
</a></li><li class="dropdown-item"><!----> <a href="/command/git.html" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/command/grep.html" class="nav-link">
  Grep
</a></li><li class="dropdown-item"><!----> <a href="/command/find.html" class="nav-link">
  Find
</a></li><li class="dropdown-item"><!----> <a href="/command/ffmpeg.html" class="nav-link">
  FFmpeg
</a></li><li class="dropdown-item"><!----> <a href="/command/htop.html" class="nav-link">
  Htop
</a></li><li class="dropdown-item"><!----> <a href="/command/homebrew.html" class="nav-link">
  Homebrew
</a></li><li class="dropdown-item"><!----> <a href="/command/netstat.html" class="nav-link">
  Netstat
</a></li><li class="dropdown-item"><!----> <a href="/command/iptables.html" class="nav-link">
  iptables
</a></li><li class="dropdown-item"><!----> <a href="/command/jq.html" class="nav-link">
  jq
</a></li><li class="dropdown-item"><!----> <a href="/command/justfile.html" class="nav-link">
  Justfile
</a></li><li class="dropdown-item"><!----> <a href="/command/lsof.html" class="nav-link">
  Lsof
</a></li><li class="dropdown-item"><!----> <a href="/command/mitmproxy.html" class="nav-link">
  Mitmproxy
</a></li><li class="dropdown-item"><!----> <a href="/command/netcat.html" class="nav-link">
  Netcat
</a></li><li class="dropdown-item"><!----> <a href="/command/sed.html" class="nav-link">
  Sed
</a></li><li class="dropdown-item"><!----> <a href="/command/openssl.html" class="nav-link">
  OpenSSL
</a></li><li class="dropdown-item"><!----> <a href="/command/ps.html" class="nav-link">
  ps
</a></li><li class="dropdown-item"><!----> <a href="/command/systemd.html" class="nav-link">
  Systemd
</a></li><li class="dropdown-item"><!----> <a href="/command/ssh.html" class="nav-link">
  SSH
</a></li><li class="dropdown-item"><!----> <a href="/command/screen.html" class="nav-link">
  Screen
</a></li><li class="dropdown-item"><!----> <a href="/command/yum.html" class="nav-link">
  YUM
</a></li><li class="dropdown-item"><!----> <a href="/command/cmd.html" class="nav-link">
  CMD
</a></li><li class="dropdown-item"><!----> <a href="/command/zip.html" class="nav-link">
  Zip
</a></li><li class="dropdown-item"><!----> <a href="/command/apt.html" class="nav-link">
  APT
</a></li><li class="dropdown-item"><!----> <a href="/command/tar.html" class="nav-link">
  tar
</a></li><li class="dropdown-item"><!----> <a href="/command/linux-command.html" class="nav-link">
  Linux Command
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/database/mysql.html" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/database/mongodb.html" class="nav-link">
  MongoDB
</a></li><li class="dropdown-item"><!----> <a href="/database/oracle.html" class="nav-link">
  Oracle
</a></li><li class="dropdown-item"><!----> <a href="/database/postgres.html" class="nav-link">
  PostgreSQL
</a></li><li class="dropdown-item"><!----> <a href="/database/redis.html" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="快捷键" class="dropdown-title"><span class="title">快捷键</span> <span class="arrow down"></span></button> <button type="button" aria-label="快捷键" class="mobile-dropdown-title"><span class="title">快捷键</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/quicklink/adobe-lightroom.html" class="nav-link">
  Adobe Lightroom
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/adobe-photoshop.html" class="nav-link">
  Adobe Photoshop
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/adobe-xd.html" class="nav-link">
  Adobe XD
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/android-studio.html" class="nav-link">
  Android Studio
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/firefox.html" class="nav-link">
  Firefox
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/gmail.html" class="nav-link">
  Gmail
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/gitlab.html" class="nav-link">
  Gitlab
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/google-chrome.html" class="nav-link">
  Google Chrome
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/intelli-j-idea.html" class="nav-link">
  IntelliJ IDEA
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/pycharm.html" class="nav-link">
  PyCharm
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/sketch.html" class="nav-link">
  Sketch
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/sublime-text.html" class="nav-link">
  Sublime Text
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/vscode.html" class="nav-link">
  VSCode
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/webstorm.html" class="nav-link">
  WebStorm
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/xcode.html" class="nav-link">
  Xcode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><span class="title">其它</span> <span class="arrow down"></span></button> <button type="button" aria-label="其它" class="mobile-dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/aspect-ratio.html" class="nav-link">
  Aspect Ratio
</a></li><li class="dropdown-item"><!----> <a href="/other/github-actions.html" class="nav-link">
  Github Actions
</a></li><li class="dropdown-item"><!----> <a href="/other/gitlab-ci.html" class="nav-link">
  Gitlab CI/CD
</a></li><li class="dropdown-item"><!----> <a href="/other/colors-named.html" class="nav-link">
  Colors Named
</a></li><li class="dropdown-item"><!----> <a href="/other/http-status-code.html" class="nav-link">
  HTTP 状态码
</a></li><li class="dropdown-item"><!----> <a href="/other/html-char.html" class="nav-link">
  HTML 字符实体
</a></li><li class="dropdown-item"><!----> <a href="/other/iso-639-1.html" class="nav-link">
  ISO 639-1 Language Code
</a></li><li class="dropdown-item"><!----> <a href="/other/emoji.html" class="nav-link">
  Emoji
</a></li><li class="dropdown-item"><!----> <a href="/other/mime.html" class="nav-link">
  MIME types
</a></li><li class="dropdown-item"><!----> <a href="/other/resolutions.html" class="nav-link">
  Resolutions
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/feds.html" class="nav-link">
  前端导航
</a></li><li class="dropdown-item"><!----> <a href="/frontend/css.html" class="nav-link">
  CSS3
</a></li><li class="dropdown-item"><!----> <a href="/frontend/electron.html" class="nav-link">
  Electron
</a></li><li class="dropdown-item"><!----> <a href="/frontend/es6.html" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/frontend/styled-components.html" class="nav-link">
  Styled Components
</a></li><li class="dropdown-item"><!----> <a href="/frontend/stylus.html" class="nav-link">
  Stylus
</a></li><li class="dropdown-item"><!----> <a href="/frontend/sass.html" class="nav-link">
  Sass
</a></li><li class="dropdown-item"><!----> <a href="/frontend/html.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/frontend/javascript.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/jquery.html" class="nav-link">
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/frontend/lessjs.html" class="nav-link">
  Less
</a></li><li class="dropdown-item"><!----> <a href="/frontend/nextjs.html" class="nav-link">
  Next
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/frontend/reactrouter.html" class="nav-link">
  React Router
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react-native.html" class="nav-link">
  React Native
</a></li><li class="dropdown-item"><!----> <a href="/frontend/regex.html" class="nav-link">
  Regex 正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tailwindcss.html" class="nav-link">
  Tailwind CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue2.html" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue.html" class="nav-link">
  Vue3
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程" class="dropdown-title"><span class="title">编程</span> <span class="arrow down"></span></button> <button type="button" aria-label="编程" class="mobile-dropdown-title"><span class="title">编程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/program/bash.html" class="nav-link">
  Bash
</a></li><li class="dropdown-item"><!----> <a href="/program/c.html" class="nav-link">
  C
</a></li><li class="dropdown-item"><!----> <a href="/program/cpp.html" class="nav-link">
  C++
</a></li><li class="dropdown-item"><!----> <a href="/program/dart.html" class="nav-link">
  Dart
</a></li><li class="dropdown-item"><!----> <a href="/program/docker.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/program/flutter.html" class="nav-link">
  Flutter
</a></li><li class="dropdown-item"><!----> <a href="/program/golang.html" class="nav-link">
  Golang
</a></li><li class="dropdown-item"><!----> <a href="/program/graphql.html" class="nav-link">
  GraphQL
</a></li><li class="dropdown-item"><!----> <a href="/program/java.html" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/program/json.html" class="nav-link">
  JSON
</a></li><li class="dropdown-item"><!----> <a href="/program/kubernetes.html" class="nav-link">
  Kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/program/markdown.html" class="nav-link">
  Markdown
</a></li><li class="dropdown-item"><!----> <a href="/program/matlab.html" class="nav-link">
  MATLAB
</a></li><li class="dropdown-item"><!----> <a href="/program/php.html" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/program/python.html" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/program/ruby.html" class="nav-link">
  Ruby
</a></li><li class="dropdown-item"><!----> <a href="/program/rust.html" class="nav-link">
  Rust
</a></li><li class="dropdown-item"><!----> <a href="/program/swift.html" class="nav-link">
  Swift
</a></li><li class="dropdown-item"><!----> <a href="/program/swiftui.html" class="nav-link">
  SwiftUI
</a></li><li class="dropdown-item"><!----> <a href="/program/yaml.html" class="nav-link">
  YAML
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Nodejs" class="dropdown-title"><span class="title">Nodejs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Nodejs" class="mobile-dropdown-title"><span class="title">Nodejs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/nodejs/expressjs.html" class="nav-link">
  Express.js
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/jest.html" class="nav-link">
  Jest
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/koajs.html" class="nav-link">
  Koa.js
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/lerna.html" class="nav-link">
  Lerna
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/npm.html" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/nestjs.html" class="nav-link">
  NestJS
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/pm2.html" class="nav-link">
  PM2
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/package.json.html" class="nav-link">
  Package.json
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/yarn.html" class="nav-link">
  Yarn
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/emacs.html" class="nav-link">
  Emacs
</a></li><li class="dropdown-item"><!----> <a href="/tool/github.html" class="nav-link">
  Github
</a></li><li class="dropdown-item"><!----> <a href="/tool/nginx.html" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/tool/semver.html" class="nav-link">
  Semver
</a></li><li class="dropdown-item"><!----> <a href="/tool/vim.html" class="nav-link">
  Vim
</a></li><li class="dropdown-item"><!----> <a href="/tool/xpath.html" class="nav-link">
  XPath
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="命令" class="dropdown-title"><span class="title">命令</span> <span class="arrow down"></span></button> <button type="button" aria-label="命令" class="mobile-dropdown-title"><span class="title">命令</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/command/adb.html" class="nav-link">
  ADB, Android Debug Bridge
</a></li><li class="dropdown-item"><!----> <a href="/command/conan.html" class="nav-link">
  Conan
</a></li><li class="dropdown-item"><!----> <a href="/command/conda.html" class="nav-link">
  Conda
</a></li><li class="dropdown-item"><!----> <a href="/command/cocoapods.html" class="nav-link">
  CocoaPods
</a></li><li class="dropdown-item"><!----> <a href="/command/cargo.html" class="nav-link">
  Cargo
</a></li><li class="dropdown-item"><!----> <a href="/command/curl.html" class="nav-link">
  Curl
</a></li><li class="dropdown-item"><!----> <a href="/command/chmod.html" class="nav-link">
  Chmod
</a></li><li class="dropdown-item"><!----> <a href="/command/cron.html" class="nav-link">
  Cron
</a></li><li class="dropdown-item"><!----> <a href="/command/cmake.html" class="nav-link">
  CMake
</a></li><li class="dropdown-item"><!----> <a href="/command/make.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Make
</a></li><li class="dropdown-item"><!----> <a href="/command/git.html" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/command/grep.html" class="nav-link">
  Grep
</a></li><li class="dropdown-item"><!----> <a href="/command/find.html" class="nav-link">
  Find
</a></li><li class="dropdown-item"><!----> <a href="/command/ffmpeg.html" class="nav-link">
  FFmpeg
</a></li><li class="dropdown-item"><!----> <a href="/command/htop.html" class="nav-link">
  Htop
</a></li><li class="dropdown-item"><!----> <a href="/command/homebrew.html" class="nav-link">
  Homebrew
</a></li><li class="dropdown-item"><!----> <a href="/command/netstat.html" class="nav-link">
  Netstat
</a></li><li class="dropdown-item"><!----> <a href="/command/iptables.html" class="nav-link">
  iptables
</a></li><li class="dropdown-item"><!----> <a href="/command/jq.html" class="nav-link">
  jq
</a></li><li class="dropdown-item"><!----> <a href="/command/justfile.html" class="nav-link">
  Justfile
</a></li><li class="dropdown-item"><!----> <a href="/command/lsof.html" class="nav-link">
  Lsof
</a></li><li class="dropdown-item"><!----> <a href="/command/mitmproxy.html" class="nav-link">
  Mitmproxy
</a></li><li class="dropdown-item"><!----> <a href="/command/netcat.html" class="nav-link">
  Netcat
</a></li><li class="dropdown-item"><!----> <a href="/command/sed.html" class="nav-link">
  Sed
</a></li><li class="dropdown-item"><!----> <a href="/command/openssl.html" class="nav-link">
  OpenSSL
</a></li><li class="dropdown-item"><!----> <a href="/command/ps.html" class="nav-link">
  ps
</a></li><li class="dropdown-item"><!----> <a href="/command/systemd.html" class="nav-link">
  Systemd
</a></li><li class="dropdown-item"><!----> <a href="/command/ssh.html" class="nav-link">
  SSH
</a></li><li class="dropdown-item"><!----> <a href="/command/screen.html" class="nav-link">
  Screen
</a></li><li class="dropdown-item"><!----> <a href="/command/yum.html" class="nav-link">
  YUM
</a></li><li class="dropdown-item"><!----> <a href="/command/cmd.html" class="nav-link">
  CMD
</a></li><li class="dropdown-item"><!----> <a href="/command/zip.html" class="nav-link">
  Zip
</a></li><li class="dropdown-item"><!----> <a href="/command/apt.html" class="nav-link">
  APT
</a></li><li class="dropdown-item"><!----> <a href="/command/tar.html" class="nav-link">
  tar
</a></li><li class="dropdown-item"><!----> <a href="/command/linux-command.html" class="nav-link">
  Linux Command
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/database/mysql.html" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/database/mongodb.html" class="nav-link">
  MongoDB
</a></li><li class="dropdown-item"><!----> <a href="/database/oracle.html" class="nav-link">
  Oracle
</a></li><li class="dropdown-item"><!----> <a href="/database/postgres.html" class="nav-link">
  PostgreSQL
</a></li><li class="dropdown-item"><!----> <a href="/database/redis.html" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="快捷键" class="dropdown-title"><span class="title">快捷键</span> <span class="arrow down"></span></button> <button type="button" aria-label="快捷键" class="mobile-dropdown-title"><span class="title">快捷键</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/quicklink/adobe-lightroom.html" class="nav-link">
  Adobe Lightroom
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/adobe-photoshop.html" class="nav-link">
  Adobe Photoshop
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/adobe-xd.html" class="nav-link">
  Adobe XD
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/android-studio.html" class="nav-link">
  Android Studio
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/firefox.html" class="nav-link">
  Firefox
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/gmail.html" class="nav-link">
  Gmail
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/gitlab.html" class="nav-link">
  Gitlab
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/google-chrome.html" class="nav-link">
  Google Chrome
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/intelli-j-idea.html" class="nav-link">
  IntelliJ IDEA
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/pycharm.html" class="nav-link">
  PyCharm
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/sketch.html" class="nav-link">
  Sketch
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/sublime-text.html" class="nav-link">
  Sublime Text
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/vscode.html" class="nav-link">
  VSCode
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/webstorm.html" class="nav-link">
  WebStorm
</a></li><li class="dropdown-item"><!----> <a href="/quicklink/xcode.html" class="nav-link">
  Xcode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><span class="title">其它</span> <span class="arrow down"></span></button> <button type="button" aria-label="其它" class="mobile-dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/aspect-ratio.html" class="nav-link">
  Aspect Ratio
</a></li><li class="dropdown-item"><!----> <a href="/other/github-actions.html" class="nav-link">
  Github Actions
</a></li><li class="dropdown-item"><!----> <a href="/other/gitlab-ci.html" class="nav-link">
  Gitlab CI/CD
</a></li><li class="dropdown-item"><!----> <a href="/other/colors-named.html" class="nav-link">
  Colors Named
</a></li><li class="dropdown-item"><!----> <a href="/other/http-status-code.html" class="nav-link">
  HTTP 状态码
</a></li><li class="dropdown-item"><!----> <a href="/other/html-char.html" class="nav-link">
  HTML 字符实体
</a></li><li class="dropdown-item"><!----> <a href="/other/iso-639-1.html" class="nav-link">
  ISO 639-1 Language Code
</a></li><li class="dropdown-item"><!----> <a href="/other/emoji.html" class="nav-link">
  Emoji
</a></li><li class="dropdown-item"><!----> <a href="/other/mime.html" class="nav-link">
  MIME types
</a></li><li class="dropdown-item"><!----> <a href="/other/resolutions.html" class="nav-link">
  Resolutions
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/command/make.html#makefile-入门" class="sidebar-link">Makefile 入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/command/make.html#示例" class="sidebar-link">示例</a></li><li class="sidebar-sub-header"><a href="/command/make.html#文件命令" class="sidebar-link">文件命令</a></li><li class="sidebar-sub-header"><a href="/command/make.html#规则" class="sidebar-link">规则</a></li><li class="sidebar-sub-header"><a href="/command/make.html#清空目标文件" class="sidebar-link">清空目标文件</a></li><li class="sidebar-sub-header"><a href="/command/make.html#注释" class="sidebar-link">注释</a></li><li class="sidebar-sub-header"><a href="/command/make.html#换行" class="sidebar-link">换行 ``</a></li><li class="sidebar-sub-header"><a href="/command/make.html#引用其它的-makefile" class="sidebar-link">引用其它的 Makefile</a></li></ul></li><li><a href="/command/make.html#变量" class="sidebar-link">变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/command/make.html#赋值符" class="sidebar-link">赋值符</a></li><li class="sidebar-sub-header"><a href="/command/make.html#变量-2" class="sidebar-link">变量</a></li><li class="sidebar-sub-header"><a href="/command/make.html#自动变量" class="sidebar-link">自动变量</a></li><li class="sidebar-sub-header"><a href="/command/make.html#内置命名变量的参数" class="sidebar-link">内置命名变量的参数</a></li><li class="sidebar-sub-header"><a href="/command/make.html#内置已命名的变量" class="sidebar-link">内置已命名的变量</a></li></ul></li><li><a href="/command/make.html#书写规则" class="sidebar-link">书写规则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/command/make.html#文件搜寻-vpath" class="sidebar-link">文件搜寻（vpath）</a></li><li class="sidebar-sub-header"><a href="/command/make.html#通配符" class="sidebar-link">通配符</a></li><li class="sidebar-sub-header"><a href="/command/make.html#静态模式" class="sidebar-link">静态模式</a></li><li class="sidebar-sub-header"><a href="/command/make.html#伪目标" class="sidebar-link">伪目标</a></li><li class="sidebar-sub-header"><a href="/command/make.html#约定俗成的规则" class="sidebar-link">约定俗成的规则</a></li></ul></li><li><a href="/command/make.html#命令" class="sidebar-link">命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/command/make.html#回声" class="sidebar-link">回声（@）</a></li><li class="sidebar-sub-header"><a href="/command/make.html#显示命令、禁止命令" class="sidebar-link">显示命令、禁止命令</a></li><li class="sidebar-sub-header"><a href="/command/make.html#执行命令" class="sidebar-link">执行命令</a></li><li class="sidebar-sub-header"><a href="/command/make.html#make-参数" class="sidebar-link">make 参数</a></li><li class="sidebar-sub-header"><a href="/command/make.html#debug-options" class="sidebar-link">-debug[=]</a></li><li class="sidebar-sub-header"><a href="/command/make.html#make-的退出码" class="sidebar-link">make 的退出码</a></li></ul></li><li><a href="/command/make.html#判断和循环" class="sidebar-link">判断和循环</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/command/make.html#单分支条件判断" class="sidebar-link">单分支条件判断</a></li><li class="sidebar-sub-header"><a href="/command/make.html#多分支条件判断" class="sidebar-link">多分支条件判断</a></li><li class="sidebar-sub-header"><a href="/command/make.html#ifdef" class="sidebar-link">ifdef</a></li><li class="sidebar-sub-header"><a href="/command/make.html#for-循环" class="sidebar-link">for 循环</a></li></ul></li><li><a href="/command/make.html#函数" class="sidebar-link">函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/command/make.html#字符串处理函数-替换函数-subst" class="sidebar-link">字符串处理函数 - 替换函数(subst)</a></li><li class="sidebar-sub-header"><a href="/command/make.html#字符串处理函数-模式字符串替换函数-patsubst" class="sidebar-link">字符串处理函数 - 模式字符串替换函数(patsubst)</a></li><li class="sidebar-sub-header"><a href="/command/make.html#字符串处理函数-去空格函数-strip" class="sidebar-link">字符串处理函数 - 去空格函数(strip)</a></li><li class="sidebar-sub-header"><a href="/command/make.html#字符串处理函数-查找字符串函数-findstring" class="sidebar-link">字符串处理函数 - 查找字符串函数(findstring)</a></li><li class="sidebar-sub-header"><a href="/command/make.html#字符串处理函数-过滤函数-filter" class="sidebar-link">字符串处理函数 - 过滤函数(filter)</a></li><li class="sidebar-sub-header"><a href="/command/make.html#字符串处理函数-反过滤函数-filter-out" class="sidebar-link">字符串处理函数 - 反过滤函数(filter-out)</a></li><li class="sidebar-sub-header"><a href="/command/make.html#字符串处理函数-排序函数-sort" class="sidebar-link">字符串处理函数 - 排序函数(sort)</a></li><li class="sidebar-sub-header"><a href="/command/make.html#字符串处理函数-取单词函数-word" class="sidebar-link">字符串处理函数 - 取单词函数（word)</a></li><li class="sidebar-sub-header"><a href="/command/make.html#字符串处理函数-取单词串函数-wordlist" class="sidebar-link">字符串处理函数 - 取单词串函数(wordlist)</a></li><li class="sidebar-sub-header"><a href="/command/make.html#字符串处理函数-单词个数统计函数-words" class="sidebar-link">字符串处理函数 - 单词个数统计函数(words)</a></li><li class="sidebar-sub-header"><a href="/command/make.html#字符串处理函数-首单词函数-firstword" class="sidebar-link">字符串处理函数 - 首单词函数(firstword)</a></li><li class="sidebar-sub-header"><a href="/command/make.html#文件名操作函数" class="sidebar-link">文件名操作函数</a></li><li class="sidebar-sub-header"><a href="/command/make.html#其它函数" class="sidebar-link">其它函数</a></li></ul></li><li><a href="/command/make.html#另见" class="sidebar-link">另见</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="make-备忘清单"><a href="#make-备忘清单" class="header-anchor">#</a> make 备忘清单</h1> <p>包含 最重要概念、函数、方法等的 make 备忘单。 初学者的完整快速参考。</p> <h2 id="makefile-入门"><a href="#makefile-入门" class="header-anchor">#</a> Makefile 入门</h2> <h3 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h3> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">a.txt</span><span class="token punctuation">:</span> b.txt c.txt
	cat b.txt c.txt &gt; a.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="工作流程"><a href="#工作流程" class="header-anchor">#</a> 工作流程</h4> <ul><li>读入所有的 <code>Makefile</code>。</li> <li>读入被 <code>include</code> 的其它 <code>Makefile</code>。</li> <li>初始化文件中的变量。</li> <li>推导隐晦规则，并分析所有规则。</li> <li>为所有的目标文件创建依赖关系链。</li> <li>根据依赖关系，决定哪些目标要重新生成。</li> <li>执行生成命令。</li></ul> <h3 id="文件命令"><a href="#文件命令" class="header-anchor">#</a> 文件命令</h3> <p>make命令会以 <code>GNUmakefile</code>（不推荐使用）、<code>makefile</code>、<code>Makefile</code>（推荐使用）的顺序查找当前目录下的文件。</p> <h4 id="自定义文件路径"><a href="#自定义文件路径" class="header-anchor">#</a> 自定义文件路径</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">make</span> target <span class="token parameter variable">-f</span> FILE
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们可以使用 <code>-f FILE</code> 来指定makefile文件的路径</p> <h4 id="隐式生成"><a href="#隐式生成" class="header-anchor">#</a> 隐式生成</h4> <p>如果文件夹中没有 makefile 文件，只有 main.c 源文件，那么我们可以使用 <code>make main.o</code> 隐式生成链接文件</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">make</span> main.o
<span class="token comment"># 实际执行： cc    -c -o main.o main.c</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="规则"><a href="#规则" class="header-anchor">#</a> 规则</h3> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">TARGET</span><span class="token punctuation">:</span> PREREQUISITES
  COMMAMD
...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><code>target</code>: 规则的目标。目标可以是规则的动作（如 <code>clean</code> 等），也可以是目标文件或者最后的可执行文件。</li> <li><code>prerequisites</code>: 规则的依赖。生成规则目标文件所需要的文件名列表（通常一个目标依赖于一个或者多个文件）。</li> <li><code>command</code>: 规则的命令行。规则要执行的动作（任意的 shell 命令或者在 shell 下执行的程序）。<span style="color:red;">命令需要以 tab 键开头</span></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">make</span> <span class="token punctuation">[</span>TARGET <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">make</span>        <span class="token comment"># 没有参数首先运行 TARGET</span>
$ <span class="token function">make</span> <span class="token builtin class-name">help</span>   <span class="token comment"># 显示可用目标</span>
$ <span class="token function">make</span> dist   <span class="token comment"># 从当前目录制作一个发布存档</span>
$ <span class="token function">make</span> check  <span class="token comment"># 无需安装的单元测试</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="清空目标文件"><a href="#清空目标文件" class="header-anchor">#</a> 清空目标文件</h3> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token builtin-target builtin">.PHONY</span><span class="token punctuation">:</span> clean
<span class="token target symbol">clean</span><span class="token punctuation">:</span>
  rm *.o temp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>.PHONY</code> 内置命令将排除 clean 文件，不会因为当前目录中因为有 clean 文件而不会不执行 clean 伪目标</p> <p><span style="color:red;">clean 从来都是放在文件的最后</span></p> <h3 id="注释"><a href="#注释" class="header-anchor">#</a> 注释</h3> <p>makefile 文件的注释与 bash 脚本一致</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token comment"># 这是一个注释</span>
<span class="token target symbol">main.o</span> <span class="token punctuation">:</span> main.c
	cc -c main.c
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="换行"><a href="#换行" class="header-anchor">#</a> 换行 <code>\</code></h3> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token comment"># 这是一个注释</span>
<span class="token target symbol">main.o</span> <span class="token punctuation">:</span> main.c
	cc -c \
	main.c
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="引用其它的-makefile"><a href="#引用其它的-makefile" class="header-anchor">#</a> 引用其它的 Makefile</h3> <p><code>include</code> 关键字可以把别的 Makefile 包含进来。这样使用 make 运行的时候就会</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token comment"># makefile</span>
<span class="token keyword">include</span> foo.make
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果你想让 make 不理那些无法读取的文件，并且继续执行。</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token keyword">-include</span> &lt;filename&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h2> <h3 id="赋值符"><a href="#赋值符" class="header-anchor">#</a> 赋值符</h3> <h4 id="在执行时扩展-允许递归扩展"><a href="#在执行时扩展-允许递归扩展" class="header-anchor">#</a> 在执行时扩展，允许递归扩展</h4> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code>VARIABLE <span class="token operator">=</span> value
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="在声明时扩展"><a href="#在声明时扩展" class="header-anchor">#</a> 在声明时扩展</h4> <p>可以防止递归，并且只能引用之前声明过的变量</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code>VARIABLE <span class="token operator">:=</span> value
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="只有在该变量为空时才设置值"><a href="#只有在该变量为空时才设置值" class="header-anchor">#</a> 只有在该变量为空时才设置值</h4> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code>VARIABLE <span class="token operator">?=</span> value
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="将值追加到变量的尾端"><a href="#将值追加到变量的尾端" class="header-anchor">#</a> 将值追加到变量的尾端</h4> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code>VARIABLE <span class="token operator">+=</span> value
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="override"><a href="#override" class="header-anchor">#</a> override</h4> <p>如果变量前不指定 <code>override</code>，那么命令行中指定的变量可以对 Makefile 中的变量重新定义。</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token comment"># 不会重新定义</span>
<span class="token keyword">override</span> VARIABLE <span class="token operator">=</span> value
<span class="token keyword">override</span> VARIABLE <span class="token operator">:=</span> value
<span class="token keyword">override</span> VARIABLE <span class="token operator">?=</span> value
<span class="token keyword">override</span> VARIABLE <span class="token operator">+=</span> value
<span class="token keyword">override</span> <span class="token keyword">define</span>
  <span class="token comment">#...</span>
<span class="token keyword">endef</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div> <h3 id="变量-2"><a href="#变量-2" class="header-anchor">#</a> 变量</h3> <p>需要使用 <code>$()</code> 或者 <code>${}</code> 对变量进行引用</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code>file <span class="token operator">=</span> main.c

<span class="token target symbol">run</span><span class="token punctuation">:</span>
	clang -o hello <span class="token variable">$</span><span class="token punctuation">{</span>file<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="避免递归变量"><a href="#避免递归变量" class="header-anchor">#</a> 避免递归变量</h4> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token comment"># 这样会使变量陷入无穷递归</span>
A <span class="token operator">=</span> <span class="token variable">$</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span>
B <span class="token operator">=</span> <span class="token variable">$</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><hr> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code>x <span class="token operator">:=</span> foo
y <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> bar
x <span class="token operator">:=</span> later

<span class="token comment"># 等价于</span>
<span class="token comment"># x = later</span>
<span class="token comment"># y = foo bar</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="shell-变量"><a href="#shell-变量" class="header-anchor">#</a> Shell 变量</h4> <p>如果要使用 Shell 变量，需要在之前加上 <code>$</code></p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">run</span><span class="token punctuation">:</span>
	echo <span class="token variable">$$HOME</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="定义多行变量"><a href="#定义多行变量" class="header-anchor">#</a> 定义多行变量</h4> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token keyword">define</span> foo
echo foo
echo bar
<span class="token keyword">endef</span>

<span class="token target symbol">run</span><span class="token punctuation">:</span>
	<span class="token variable">$</span><span class="token punctuation">{</span>foo<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="自动变量"><a href="#自动变量" class="header-anchor">#</a> 自动变量</h3> <h4 id=""><a href="#" class="header-anchor">#</a> <code>$@</code></h4> <p><code>$@</code>:指代当前目标，即 Make 命令当前构建的那个目标</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">foo</span><span class="token punctuation">:</span>
	touch <span class="token variable">$@</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><hr> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">make</span> foo
<span class="token comment"># $@ 就是指的这里的 foo</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="-2"><a href="#-2" class="header-anchor">#</a> <code>$&lt;</code></h4> <p><code>$&lt;</code> 指代第一个前置条件。比如，规则为 t: p1 p2，那么 <code>$&lt;</code> 就指代 p1</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">a.md</span><span class="token punctuation">:</span> b.md c.md
  cp <span class="token variable">$&lt;</span> <span class="token variable">$@</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><hr> <p>使用 <code>make a.md</code>,相当于以下写法</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">a.md</span><span class="token punctuation">:</span> b.md c.md
    cp b.md a.md 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="-3"><a href="#-3" class="header-anchor">#</a> <code>$^</code></h4> <p><code>$^</code> 指代所有的前置条件,去除重复项</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">a.md</span><span class="token punctuation">:</span> b.md c.md
  echo <span class="token variable">$^</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="-4"><a href="#-4" class="header-anchor">#</a> <code>$+</code></h4> <p><code>$^</code> 指代所有的前置条件，不会去除重复项</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">a.md</span><span class="token punctuation">:</span> b.md c.md c.md
	echo <span class="token variable">$+</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="-5"><a href="#-5" class="header-anchor">#</a> <code>$?</code></h4> <p><code>$?</code> 指代更新的依赖，只有最近更新过的依赖才会引用</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">a.md</span><span class="token punctuation">:</span> b.md c.md c.md
	cat <span class="token variable">$?</span> &gt; a.md
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="-6"><a href="#-6" class="header-anchor">#</a> <code>$*</code></h4> <p><code>$*</code> 指代匹配符匹配的部分</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">main.o</span><span class="token punctuation">:</span> main.c
	clang -o <span class="token variable">$*</span> <span class="token variable">$*.c</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><hr> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">make</span> main
<span class="token comment"># 此时 cc  main.c -o main</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="-7"><a href="#-7" class="header-anchor">#</a> <code>$%</code></h4> <p><code>$%</code>: 仅当目标是函数库文件中，表示规则中的目标成员名</p> <ul><li>windows 中是 <code>.lib</code> 文件</li> <li>unix 中是 <code>.a</code> 文件</li></ul> <h3 id="内置命名变量的参数"><a href="#内置命名变量的参数" class="header-anchor">#</a> 内置命名变量的参数</h3> <p>这些变量都是相关下面的命令的参数。如果没有指明其默认值，那么其默认值都是空。</p> <table><thead><tr><th style="text-align:left;">:-</th> <th style="text-align:left;">:-</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>ARFLAGS</code></td> <td style="text-align:left;">函数库打包程序AR命令的参数。默认值是 <code>rv</code></td></tr> <tr><td style="text-align:left;"><code>ASFLAGS</code></td> <td style="text-align:left;">汇编语言编译器参数。（当明显地调用 <code>.s</code> 或 <code>.S</code> 文件时）</td></tr> <tr><td style="text-align:left;"><code>CFLAGS</code></td> <td style="text-align:left;">C 语言编译器参数。</td></tr> <tr><td style="text-align:left;"><code>CXXFLAGS</code></td> <td style="text-align:left;">C++ 语言编译器参数。</td></tr> <tr><td style="text-align:left;"><code>COFLAGS</code></td> <td style="text-align:left;">RCS 命令参数。</td></tr> <tr><td style="text-align:left;"><code>CPPFLAGS</code></td> <td style="text-align:left;">C 预处理器参数。（ <code>C</code> 和 <code>Fortran</code> 编译器也会用到）。</td></tr> <tr><td style="text-align:left;"><code>FFLAGS</code></td> <td style="text-align:left;">Fortran 语言编译器参数。</td></tr> <tr><td style="text-align:left;"><code>GFLAGS</code></td> <td style="text-align:left;">SCCS <code>get</code> 程序参数。</td></tr> <tr><td style="text-align:left;"><code>LDFLAGS</code></td> <td style="text-align:left;">链接器参数。（如：<code>ld</code> ）</td></tr> <tr><td style="text-align:left;"><code>PFLAGS</code></td> <td style="text-align:left;">Pascal 语言编译器参数。</td></tr> <tr><td style="text-align:left;"><code>LFLAGS</code></td> <td style="text-align:left;">Lex 文法分析器参数。</td></tr> <tr><td style="text-align:left;"><code>RFLAGS</code></td> <td style="text-align:left;">Ratfor 程序的 Fortran 编译器参数。</td></tr> <tr><td style="text-align:left;"><code>YFLAGS</code></td> <td style="text-align:left;">Yacc 文法分析器参数。</td></tr></tbody></table> <h3 id="内置已命名的变量"><a href="#内置已命名的变量" class="header-anchor">#</a> 内置已命名的变量</h3> <table><thead><tr><th style="text-align:left;">:-</th> <th style="text-align:left;">:-</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>AR</code></td> <td style="text-align:left;">函数库打包程序。默认命令是 <code>ar</code></td></tr> <tr><td style="text-align:left;"><code>AS</code></td> <td style="text-align:left;">汇编语言编译程序。默认命令是 <code>as</code></td></tr> <tr><td style="text-align:left;"><code>CC</code></td> <td style="text-align:left;">C 语言编译程序。默认命令是 <code>cc</code></td></tr> <tr><td style="text-align:left;"><code>CXX</code></td> <td style="text-align:left;">C++ 语言编译程序。默认命令是 <code>g++</code></td></tr> <tr><td style="text-align:left;"><code>CO</code></td> <td style="text-align:left;">从 RCS 文件中扩展文件程序。默认命令是 <code>co</code></td></tr> <tr><td style="text-align:left;"><code>CPP</code></td> <td style="text-align:left;">C 程序的预处理器（输出是标准输出设备）。默认命令是 <code>$(CC) –E</code></td></tr> <tr><td style="text-align:left;"><code>FC</code></td> <td style="text-align:left;">Fortran 和 Ratfor 的编译器和预处理程序。默认命令是 <code>f77</code></td></tr> <tr><td style="text-align:left;"><code>GET</code></td> <td style="text-align:left;">从 SCCS 文件中扩展文件的程序。默认命令是 <code>get</code></td></tr> <tr><td style="text-align:left;"><code>LEX</code></td> <td style="text-align:left;">Lex 方法分析器程序（针对于 C 或 Ratfor）。默认命令是 <code>lex</code></td></tr> <tr><td style="text-align:left;"><code>PC</code></td> <td style="text-align:left;">Pascal 语言编译程序。默认命令是 <code>pc</code></td></tr> <tr><td style="text-align:left;"><code>YACC</code></td> <td style="text-align:left;">Yacc 文法分析器（针对于 C 程序）。默认命令是 <code>yacc</code></td></tr> <tr><td style="text-align:left;"><code>YACCR</code></td> <td style="text-align:left;">Yacc 文法分析器（针对于 Ratfor 程序）。默认命令是 <code>yacc –r</code></td></tr> <tr><td style="text-align:left;"><code>MAKEINFO</code></td> <td style="text-align:left;">转换 Texinfo 源文件（.texi）到 Info 文件程序。默认命令是 <code>makeinfo</code></td></tr> <tr><td style="text-align:left;"><code>TEX</code></td> <td style="text-align:left;">从 TeX 源文件创建TeX DVI文件的程序。默认命令是 <code>tex</code></td></tr> <tr><td style="text-align:left;"><code>TEXI2DVI</code></td> <td style="text-align:left;">从 Texinfo 源文件创建 TeX DVI 文件的程序。默认命令是 <code>texi2dvi</code></td></tr> <tr><td style="text-align:left;"><code>WEAVE</code></td> <td style="text-align:left;">转换 Web 到 TeX 的程序。默认命令是 <code>weave</code></td></tr> <tr><td style="text-align:left;"><code>CWEAVE</code></td> <td style="text-align:left;">转换 C Web 到 TeX 的程序。默认命令是 <code>cweave</code></td></tr> <tr><td style="text-align:left;"><code>TANGLE</code></td> <td style="text-align:left;">转换 Web 到 Pascal 语言的程序。默认命令是 <code>tangle</code></td></tr> <tr><td style="text-align:left;"><code>CTANGLE</code></td> <td style="text-align:left;">转换 C Web 到 C。默认命令是 <code>ctangle</code></td></tr> <tr><td style="text-align:left;"><code>RM</code></td> <td style="text-align:left;">删除文件命令。默认命令是 <code>rm –f</code></td></tr></tbody></table> <h4 id="内置的变量"><a href="#内置的变量" class="header-anchor">#</a> 内置的变量</h4> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">run</span><span class="token punctuation">:</span>
	<span class="token variable">$</span><span class="token punctuation">{</span>CC<span class="token punctuation">}</span> -o main main.c
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="书写规则"><a href="#书写规则" class="header-anchor">#</a> 书写规则</h2> <h3 id="文件搜寻-vpath"><a href="#文件搜寻-vpath" class="header-anchor">#</a> 文件搜寻（<code>vpath</code>）</h3> <p>如果没有指定 vpath 变量，make 只会在当前的目录中去寻找依赖文件和目标文件。否则，如果当前目录没有，就会到指定的目录中去寻找</p> <table><thead><tr><th style="text-align:left;">:-</th> <th style="text-align:left;">:-</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>vpath &lt;pattern&gt; &lt;directories&gt;</code></td> <td style="text-align:left;">为符合模式 &lt;pattern&gt; 的文件指定搜索目录 &lt;directories&gt;</td></tr> <tr><td style="text-align:left;"><code>vpath &lt;pattern&gt;</code></td> <td style="text-align:left;">清除符合模式 &lt;pattern&gt; 的文件的搜索目录。</td></tr> <tr><td style="text-align:left;"><code>vpath</code></td> <td style="text-align:left;">清除所有已被设置好了的文件搜索目录</td></tr></tbody></table> <h4 id="-8"><a href="#-8" class="header-anchor">#</a> <code>%</code></h4> <ul><li>vpath 使用方法中的 &lt;pattern&gt; 需要包含 <code>%</code> 字符。<code>%</code> 的意思是匹配零或若干字符（类似于<strong>通配符</strong>）,并且引用规则是需要使用<strong>自动变量</strong></li></ul> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token keyword">vpath</span> %.c dist
TARGET <span class="token operator">=</span> hello
OBJ <span class="token operator">=</span> bar.o foo.o

<span class="token target symbol"><span class="token variable">$</span>(TARGET)</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">(</span>OBJ<span class="token punctuation">)</span>
	<span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span> -o <span class="token variable">$@</span> <span class="token variable">$^</span>

<span class="token target symbol">%.o</span><span class="token punctuation">:</span> <span class="token variable">$.c</span>
	<span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span> -o <span class="token variable">$&lt;</span> -o <span class="token comment">#@</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div> <h3 id="通配符"><a href="#通配符" class="header-anchor">#</a> 通配符</h3> <h4 id="-9"><a href="#-9" class="header-anchor">#</a> <code>*</code></h4> <p><code>*</code>：与 linux 系统下的一样</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token comment"># 清除所有 .o 结尾的文件</span>
<span class="token target symbol">clean</span><span class="token punctuation">:</span>
    rm -f *.o
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="-10"><a href="#-10" class="header-anchor">#</a> <code>~</code></h4> <p><code>~</code>：在 linux 或 mac 下表示用户目录，win 下表示 <code>HOME</code> 环境变量</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">run</span><span class="token punctuation">:</span>
    ls ~
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="-11"><a href="#-11" class="header-anchor">#</a> <code>?</code></h4> <p><code>?</code>: 与在 linux 等类似，可以匹配单个字符</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">run</span><span class="token punctuation">:</span>
	ls -ll packag?.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="静态模式"><a href="#静态模式" class="header-anchor">#</a> 静态模式</h3> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">TARGET</span><span class="token punctuation">:</span> PREREQUISITES <span class="token punctuation">:</span>PREREQUISITES
  COMMAMD
<span class="token comment">#...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><code>target</code> 定义了一系列的目标文件</li> <li>第一个 <code>prerequisites</code> 是指明了 target 的模式，也就是的目标集模式。</li> <li>第二个 <code>prerequisites</code> 是目标的依赖模式，它对第一个 <code>prerequisites</code> 形成的模式再进行一次依赖目标的定义</li></ul> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code>objects <span class="token operator">=</span> foo.o main.o

<span class="token target symbol"><span class="token variable">$</span>(objects)</span><span class="token punctuation">:</span> %.o<span class="token punctuation">:</span> %.c
	<span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span> -c <span class="token variable">$</span><span class="token punctuation">(</span>CFLAGS<span class="token punctuation">)</span> <span class="token variable">$&lt;</span> -o <span class="token variable">$@</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><hr> <p>相当于:</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">foo.o</span> <span class="token punctuation">:</span> foo.c
    <span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span> -c <span class="token variable">$</span><span class="token punctuation">(</span>CFLAGS<span class="token punctuation">)</span> foo.c -o foo.o
<span class="token target symbol">main.o</span> <span class="token punctuation">:</span> main.c
    <span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span> -c <span class="token variable">$</span><span class="token punctuation">(</span>CFLAGS<span class="token punctuation">)</span> main.c -o main.o
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="伪目标"><a href="#伪目标" class="header-anchor">#</a> 伪目标</h3> <ul><li><strong>伪目标</strong>并不是一个文件，只是一个标签。只有通过显式地指明这个<strong>目标</strong>才能让其生效</li> <li>使用 <code>.PHONY</code> 来显式地指明目标是 <code>伪目标</code></li></ul> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token builtin-target builtin">.PHONY</span> <span class="token punctuation">:</span> clean
<span class="token target symbol">clean</span> <span class="token punctuation">:</span>
    rm *.o temp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="约定俗成的规则"><a href="#约定俗成的规则" class="header-anchor">#</a> 约定俗成的规则</h3> <table><thead><tr><th style="text-align:left;">:-</th> <th style="text-align:left;">:-</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>all</code></td> <td style="text-align:left;">该伪目标是所有目标的目标，一般用于编译所有的目标</td></tr> <tr><td style="text-align:left;"><code>clean</code></td> <td style="text-align:left;">该伪目标用于删除所有由 make 创建的文件</td></tr> <tr><td style="text-align:left;"><code>install</code></td> <td style="text-align:left;">该伪目标用于安装已编译好的程序，即将目标执行文件拷贝到指定目标中</td></tr> <tr><td style="text-align:left;"><code>print</code></td> <td style="text-align:left;">该伪目标用于例出改变过的源文件</td></tr> <tr><td style="text-align:left;"><code>tar</code></td> <td style="text-align:left;">该伪目标用于把源程序打包备份为 tar 文件</td></tr> <tr><td style="text-align:left;"><code>dist</code></td> <td style="text-align:left;">该伪目标用于创建压缩文件，一般将 tar 文件压成 Z 或 gz 文件</td></tr> <tr><td style="text-align:left;"><code>TAGS</code></td> <td style="text-align:left;">该伪目标用于更新所有的目标，以备完整地重编译使用</td></tr> <tr><td style="text-align:left;"><code>check/test</code></td> <td style="text-align:left;">这两个伪目标用于测试 makefile 的流程</td></tr></tbody></table> <h2 id="命令"><a href="#命令" class="header-anchor">#</a> 命令</h2> <h3 id="回声"><a href="#回声" class="header-anchor">#</a> 回声（<code>@</code>）</h3> <p>正常情况下，make会打印每条命令，然后再执行，这就叫做回声（echoing）</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">all</span><span class="token punctuation">:</span>
  <span class="token comment"># 会有命令执行显示</span>
	echo Hello, world
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><hr> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">all</span><span class="token punctuation">:</span>
  <span class="token comment"># 不会有命令执行的显示</span>
	<span class="token operator">@</span>echo Hello, world
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div> <h3 id="显示命令、禁止命令"><a href="#显示命令、禁止命令" class="header-anchor">#</a> 显示命令、禁止命令</h3> <h4 id="显示命令"><a href="#显示命令" class="header-anchor">#</a> 显示命令</h4> <p>如果我们只希望显示命令，而不希望执行命令，可以使用 <code>-n</code> 或者 <code>--just-print</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">make</span> all --just-print 
$ <span class="token function">make</span> all <span class="token parameter variable">-n</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="禁止命令"><a href="#禁止命令" class="header-anchor">#</a> 禁止命令</h4> <p><code>-s</code> 或 <code>--silent</code> 或 <code>--quiet</code> 与 <code>@</code> 一样，用于禁止回声</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">make</span> all <span class="token parameter variable">-s</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div> <h3 id="执行命令"><a href="#执行命令" class="header-anchor">#</a> 执行命令</h3> <p>使用 tab 及换行</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">exec</span><span class="token punctuation">:</span>
    cd /home/hchen
    pwd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><hr> <p>使用 <code>;</code></p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">exec</span><span class="token punctuation">:</span>
    cd /home/hchen<span class="token punctuation">;</span> pwd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="make-参数"><a href="#make-参数" class="header-anchor">#</a> make 参数</h3> <table><thead><tr><th style="text-align:left;">:-</th> <th style="text-align:left;">:-</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>-b</code>,<code>-m</code></td> <td style="text-align:left;">忽略和其它版本make的兼容性</td></tr> <tr><td style="text-align:left;"><code>-B</code></td> <td style="text-align:left;">(<code>--always-make</code>) 认为所有的目标都需要重编译</td></tr> <tr><td style="text-align:left;"><code>-C &lt;dir&gt;</code></td> <td style="text-align:left;">(<code>--directory=&lt;dir&gt;</code>) 指定读取makefile的目录</td></tr> <tr><td style="text-align:left;"><code>-e</code></td> <td style="text-align:left;">(<code>--environment-overrides</code>) 指明环境变量的值覆盖 makefile 中定义的变量的值</td></tr> <tr><td style="text-align:left;"><code>-f=&lt;file&gt;</code></td> <td style="text-align:left;">指定需要执行的makefile</td></tr> <tr><td style="text-align:left;"><code>-h</code></td> <td style="text-align:left;">显示帮助信息</td></tr> <tr><td style="text-align:left;"><code>-i</code></td> <td style="text-align:left;">(<code>--ignore-errors</code>)在执行时忽略所有的错误</td></tr> <tr><td style="text-align:left;"><code>-I &lt;dir&gt;</code></td> <td style="text-align:left;">(<code>--include-dir=&lt;dir&gt;</code>) 指定一个被包含 makefile 的搜索目标</td></tr> <tr><td style="text-align:left;"><code>-j [&lt;nums&gt;]</code></td> <td style="text-align:left;">(<code>--jobs[=&lt;jobsnum&gt;]</code>)指同时运行命令的个数</td></tr> <tr><td style="text-align:left;"><code>-k</code></td> <td style="text-align:left;">(<code>--keep-going</code>)出错也不停止运行</td></tr> <tr><td style="text-align:left;"><code>-l &lt;load&gt;</code></td> <td style="text-align:left;"><code>--load-average[=&lt;load&gt;]</code>、<code>-max-load[=&lt;load&gt;]</code> 指定make运行命令的负载</td></tr> <tr><td style="text-align:left;"><code>-n</code></td> <td style="text-align:left;">(<code>--just-print</code>, <code>--dry-run</code>, <code>--recon</code>) 仅输出执行过程中的命令序列，但不执行</td></tr> <tr><td style="text-align:left;"><code>-o &lt;file&gt;</code></td> <td style="text-align:left;">(<code>--old-file=&lt;file&gt;</code>, <code>--assume-old=&lt;file&gt;</code>)不重新生成的指定的 &lt;file&gt;，即使目标的依赖文件新于它</td></tr> <tr><td style="text-align:left;"><code>-p</code></td> <td style="text-align:left;">(<code>--print-data-base</code>) 输出 makefile 中的所有数据，包括所有的规则和变量</td></tr> <tr><td style="text-align:left;"><code>-q</code></td> <td style="text-align:left;">(<code>--question</code>) 不运行命令，也不输出。仅仅是检查所指定的目标是否需要更新</td></tr> <tr><td style="text-align:left;"><code>-r</code></td> <td style="text-align:left;">(<code>--no-builtin-rules</code>) 禁止 make 使用任何隐含规则</td></tr> <tr><td style="text-align:left;"><code>-R</code></td> <td style="text-align:left;">(<code>--no-builtin-variabes</code>) 禁止 make 使用任何作用于变量上的隐含规则</td></tr> <tr><td style="text-align:left;"><code>-s</code></td> <td style="text-align:left;">(<code>--silent</code>,<code>--quiet</code>) 在命令运行时不输出命令的输出</td></tr> <tr><td style="text-align:left;"><code>-S</code></td> <td style="text-align:left;">(<code>--no-keep-going</code>, <code>--stop</code>) 取消“-k”选项的作用</td></tr> <tr><td style="text-align:left;"><code>-t</code></td> <td style="text-align:left;"><code>--touch</code> 相当于 UNIX 的 touch 命令，只是把目标的修改日期变成最新的，也就是阻止生成目标的命令运行</td></tr> <tr><td style="text-align:left;"><code>-v</code></td> <td style="text-align:left;">(<code>--version</code>) 输出 make 程序的版本、版权等关于 make 的信息</td></tr> <tr><td style="text-align:left;"><code>-w</code></td> <td style="text-align:left;">(<code>--print-directory</code>) 输出运行 makefile 之前和之后的信息。<code>--no-print-directory</code> 可以禁止 <code>-w</code></td></tr> <tr><td style="text-align:left;"><code>-W &lt;file&gt;</code></td> <td style="text-align:left;"><code>--what-if=&lt;file&gt;</code>, <code>--new-file=&lt;file&gt;</code>, <code>--assume-file=&lt;file&gt;</code> 假定目标 &lt;file&gt; 需要更新，如果和 <code>-n</code> 选项使用，那么这个参数会输出该目标更新时的运行动作</td></tr> <tr><td style="text-align:left;"><code>--warn-undefined-variables</code></td> <td style="text-align:left;">只要 make 发现有未定义的变量，那么就输出警告信息</td></tr></tbody></table> <h3 id="debug-options"><a href="#debug-options" class="header-anchor">#</a> <code>-debug[=&lt;options&gt;]</code></h3> <p>输出 make 的调试信息。下面是 &lt;options&gt;的取值：</p> <table><thead><tr><th style="text-align:left;">options</th> <th style="text-align:left;">:-</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>a</code></td> <td style="text-align:left;"><code>all</code>，输出所有的调试信息</td></tr> <tr><td style="text-align:left;"><code>b</code></td> <td style="text-align:left;"><code>basic</code>，只输出简单的调试信息。即输出不需要重编译的目标</td></tr> <tr><td style="text-align:left;"><code>v</code></td> <td style="text-align:left;"><code>verbose</code>，包括 b 的信息。输出包括 makefile 被解析的信息，不需要被重编译的依赖文件等</td></tr> <tr><td style="text-align:left;"><code>i</code></td> <td style="text-align:left;"><code>implicit</code>，输出所有的隐含规则</td></tr> <tr><td style="text-align:left;"><code>j</code></td> <td style="text-align:left;"><code>jobs</code>，输出执行规则中命令的详细信息，如命令的 PID、返回码等</td></tr> <tr><td style="text-align:left;"><code>m</code></td> <td style="text-align:left;"><code>makefile</code>，输出 make 读取 makefile，更新 makefile，执行 makefile 的信息</td></tr></tbody></table> <h3 id="make-的退出码"><a href="#make-的退出码" class="header-anchor">#</a> make 的退出码</h3> <table><thead><tr><th style="text-align:left;">:-</th> <th style="text-align:left;">:-</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>0</code></td> <td style="text-align:left;">成功执行</td></tr> <tr><td style="text-align:left;"><code>1</code></td> <td style="text-align:left;">运行时出现错误</td></tr> <tr><td style="text-align:left;"><code>2</code></td> <td style="text-align:left;">使用了 <code>-q</code> 选项，并且一些目标不需要更新</td></tr></tbody></table> <h2 id="判断和循环"><a href="#判断和循环" class="header-anchor">#</a> 判断和循环</h2> <h3 id="单分支条件判断"><a href="#单分支条件判断" class="header-anchor">#</a> 单分支条件判断</h3> <ul><li><code>ifeq</code> 的意思表示条件语句的开始，表达式包含两个参数，如果相同则为真。</li> <li><code>ifneq</code> 的意思表示条件语句的开始，表达式包含两个参数，如果不同则为真。</li> <li><code>else</code> 表示条件表达式为假的情况。</li> <li><code>endif</code> 表示一个条件语句的结束，任何一个条件表达式都应该以 <code>endif</code> 结束。
</li></ul> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">run</span><span class="token punctuation">:</span>
<span class="token keyword">ifeq</span> <span class="token punctuation">(</span><span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span>, cc<span class="token punctuation">)</span>
	<span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span> -o foo foo.c
<span class="token keyword">else</span>
	<span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span> -o bar bar.c
<span class="token keyword">endif</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="多分支条件判断"><a href="#多分支条件判断" class="header-anchor">#</a> 多分支条件判断</h3> <h4 id="ifneq-语法"><a href="#ifneq-语法" class="header-anchor">#</a> ifneq 语法</h4> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token keyword">ifneq</span> <span class="token punctuation">(</span>&lt;arg1&gt;, &lt;arg2&gt;<span class="token punctuation">)</span>
<span class="token keyword">ifneq</span> <span class="token string">'&lt;arg1&gt;'</span> <span class="token string">'&lt;arg2&gt;'</span>
<span class="token keyword">ifneq</span> <span class="token string">&quot;&lt;arg1&gt;&quot;</span> <span class="token string">&quot;&lt;arg2&gt;&quot;</span>
<span class="token keyword">ifneq</span> <span class="token string">&quot;&lt;arg1&gt;&quot;</span> <span class="token string">'&lt;arg2&gt;'</span>
<span class="token keyword">ifneq</span> <span class="token string">'&lt;arg1&gt;'</span> <span class="token string">&quot;&lt;arg2&gt;&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="ifeq-语法"><a href="#ifeq-语法" class="header-anchor">#</a> ifeq 语法</h4> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token keyword">ifeq</span> <span class="token punctuation">(</span>&lt;arg1&gt;, &lt;arg2&gt;<span class="token punctuation">)</span>
<span class="token keyword">ifeq</span> <span class="token string">'&lt;arg1&gt;'</span> <span class="token string">'&lt;arg2&gt;'</span>
<span class="token keyword">ifeq</span> <span class="token string">&quot;&lt;arg1&gt;&quot;</span> <span class="token string">&quot;&lt;arg2&gt;&quot;</span>
<span class="token keyword">ifeq</span> <span class="token string">&quot;&lt;arg1&gt;&quot;</span> <span class="token string">'&lt;arg2&gt;'</span>
<span class="token keyword">ifeq</span> <span class="token string">'&lt;arg1&gt;'</span> <span class="token string">&quot;&lt;arg2&gt;&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="ifdef"><a href="#ifdef" class="header-anchor">#</a> ifdef</h3> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token keyword">ifdef</span> &lt;variable-name&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>ifdef</code> 会根据 variable-name 判断，如果为空则为真</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code>bar <span class="token operator">=</span>
foo <span class="token operator">=</span> <span class="token variable">$</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span>
<span class="token keyword">ifdef</span> foo
    frobozz <span class="token operator">=</span> yes
<span class="token keyword">else</span>
    frobozz <span class="token operator">=</span> no
<span class="token keyword">endif</span>

<span class="token target symbol">run</span><span class="token punctuation">:</span>
	echo <span class="token variable">$</span><span class="token punctuation">(</span>frobozz<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><code>ifndef</code> 则和 <code>ifdef</code> 是相反的意思</p> <h3 id="for-循环"><a href="#for-循环" class="header-anchor">#</a> for 循环</h3> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code>LIST <span class="token operator">=</span> one two three
<span class="token target symbol">all</span><span class="token punctuation">:</span>
	for i in <span class="token variable">$</span><span class="token punctuation">(</span>LIST<span class="token punctuation">)</span><span class="token punctuation">;</span> do \
	    echo <span class="token variable">$$i;</span> \
	done
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h2> <h3 id="字符串处理函数-替换函数-subst"><a href="#字符串处理函数-替换函数-subst" class="header-anchor">#</a> 字符串处理函数 - 替换函数(<code>subst</code>)</h3> <p>把字串 &lt;text&gt; 中的 &lt;from&gt; 字符串替换成 &lt;to&gt; 。</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">subst</span> &lt;from&gt;,&lt;to&gt;,&lt;text&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>示例</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">subst</span> ee,EE,feet on the street<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="字符串处理函数-模式字符串替换函数-patsubst"><a href="#字符串处理函数-模式字符串替换函数-patsubst" class="header-anchor">#</a> 字符串处理函数 - 模式字符串替换函数(<code>patsubst</code>)</h3> <p>查找 &lt;text&gt; 中的单词（<strong>单词以空格、Tab或回车换行分隔</strong>）是否符合模式 &lt;pattern&gt;。匹配，则以 &lt;replacement&gt; 替换。</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">patsubst</span> &lt;pattern&gt;,&lt;replacement&gt;,&lt;text&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>示例</li></ul> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">patsubst</span> %.c,%.o,x.c.c bar.c<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>把字串 x.c.c bar.c 符合模式 %.c 的单词替换成 %.o ，返回结果是 x.c.o bar.o</p> <h3 id="字符串处理函数-去空格函数-strip"><a href="#字符串处理函数-去空格函数-strip" class="header-anchor">#</a> 字符串处理函数 - 去空格函数(<code>strip</code>)</h3> <p>去掉 <string> 字串中开头和结尾的空字符。</string></p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">strip</span> &lt;string&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>示例</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">strip</span> a b c <span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>把字串 <code>a b c</code> 去掉开头和结尾的空格，结果是 a b c。</p> <h3 id="字符串处理函数-查找字符串函数-findstring"><a href="#字符串处理函数-查找字符串函数-findstring" class="header-anchor">#</a> 字符串处理函数 - 查找字符串函数(<code>findstring</code>)</h3> <p>在字串 &lt;in&gt; 中查找 &lt;find&gt; 字串。</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">findstring</span> &lt;find&gt;,&lt;in&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>示例：</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">findstring</span> a,a b c<span class="token punctuation">)</span>
<span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">findstring</span> a,b c<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>第一个函数返回 a 字符串，第二个返回空字符串</p> <h3 id="字符串处理函数-过滤函数-filter"><a href="#字符串处理函数-过滤函数-filter" class="header-anchor">#</a> 字符串处理函数 - 过滤函数(<code>filter</code>)</h3> <p>以 &lt;pattern&gt; 模式过滤 &lt;text&gt; 字符串中的单词，保留符合模式 &lt;pattern&gt; 的单词。可以有多个模式。</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">filter</span> &lt;pattern...&gt;,&lt;text&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>示例</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code>sources <span class="token operator">:=</span> foo.c bar.c baz.s ugh.h
<span class="token target symbol">foo</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">(</span>sources<span class="token punctuation">)</span>
    cc <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">filter</span> %.c %.s,<span class="token variable">$</span><span class="token punctuation">(</span>sources<span class="token punctuation">)</span><span class="token punctuation">)</span> -o foo
<span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">filter</span> %.c %.s,<span class="token variable">$</span><span class="token punctuation">(</span>sources<span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token comment"># 返回的值是 foo.c bar.c baz.s</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="字符串处理函数-反过滤函数-filter-out"><a href="#字符串处理函数-反过滤函数-filter-out" class="header-anchor">#</a> 字符串处理函数 - 反过滤函数(<code>filter-out</code>)</h3> <p>以 &lt;pattern&gt; 模式过滤 &lt;text&gt; 字符串中的单词，去除符合模式 &lt;pattern&gt; 的单词。可以有多个模式。</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">filter-out</span> &lt;pattern...&gt;,&lt;text&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>示例：</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code>objects<span class="token operator">=</span>main1.o foo.o main2.o bar.o
mains<span class="token operator">=</span>main1.o main2.o
<span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">filter-out</span> <span class="token variable">$</span><span class="token punctuation">(</span>mains<span class="token punctuation">)</span>,<span class="token variable">$</span><span class="token punctuation">(</span>objects<span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token comment"># 返回值是 foo.o bar.o 。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="字符串处理函数-排序函数-sort"><a href="#字符串处理函数-排序函数-sort" class="header-anchor">#</a> 字符串处理函数 - 排序函数(<code>sort</code>)</h3> <p>给字符串 &lt;list&gt; 中的单词排序（升序）。</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">sort</span> &lt;list&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>示例：<code>$(sort foo bar lose)</code> 返回 <code>bar foo lose</code></li> <li>注意：sort 函数会去掉 <code>&lt;list&gt;</code> 中相同的单词</li></ul> <h3 id="字符串处理函数-取单词函数-word"><a href="#字符串处理函数-取单词函数-word" class="header-anchor">#</a> 字符串处理函数 - 取单词函数（<code>word</code>)</h3> <p>取字符串 &lt;text&gt; 中第 &lt;n&gt; 个单词。（从一开始）</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">word</span> &lt;n&gt;,&lt;text&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>示例：<code>$(word 2, foo bar baz)</code> 返回值是 <code>bar</code></p> <h3 id="字符串处理函数-取单词串函数-wordlist"><a href="#字符串处理函数-取单词串函数-wordlist" class="header-anchor">#</a> 字符串处理函数 - 取单词串函数(<code>wordlist</code>)</h3> <ul><li>从字符串 &lt;text&gt; 中取从 &lt;s&gt; 开始到 &lt;e&gt; 的单词串。&lt;s&gt; 和 &lt;e&gt; 是一个数字。</li></ul> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">wordlist</span> &lt;ss&gt;,&lt;e&gt;,&lt;text&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>示例：<code>$(wordlist 2, 3, foo bar baz)</code> 返回值是 bar baz。</p> <h3 id="字符串处理函数-单词个数统计函数-words"><a href="#字符串处理函数-单词个数统计函数-words" class="header-anchor">#</a> 字符串处理函数 - 单词个数统计函数(<code>words</code>)</h3> <ul><li>统计 &lt;text&gt; 中字符串中的单词个数。</li></ul> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">words</span> &lt;text&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>示例：<code>$(words, foo bar baz)</code> 返回值是 3。</li></ul> <h3 id="字符串处理函数-首单词函数-firstword"><a href="#字符串处理函数-首单词函数-firstword" class="header-anchor">#</a> 字符串处理函数 - 首单词函数(<code>firstword</code>)</h3> <ul><li>取字符串 &lt;text&gt; 中的第一个单词。</li></ul> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">firstword</span> &lt;text&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>示例：<code>$(firstword foo bar)</code> 返回值是 <code>foo</code></li></ul> <h3 id="文件名操作函数"><a href="#文件名操作函数" class="header-anchor">#</a> 文件名操作函数</h3> <h4 id="取目录函数-dir"><a href="#取目录函数-dir" class="header-anchor">#</a> 取目录函数(<code>dir</code>)</h4> <p>从文件名序列 &lt;names&gt; 中取出目录部分。目录部分是指最后一个反斜杠（<code>/</code>）之前的部分。如果没有反斜杠，那么返回 <code>./</code>。</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">dir</span> &lt;names...&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">dir</span> src/foo.c hacks<span class="token punctuation">)</span> 
<span class="token comment">#返回值是 src/ ./</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="取文件函数-notdir"><a href="#取文件函数-notdir" class="header-anchor">#</a> 取文件函数(<code>notdir</code>)</h4> <p>从文件名序列 &lt;names&gt; 中取出非目录部分。非目录部分是指最後一个反斜杠（<code>/</code>）之后的部分。</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">notdir</span> &lt;names...&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">notdir</span> src/foo.c hacks<span class="token punctuation">)</span>
<span class="token comment"># 返回值是 foo.c hacks</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="取后缀函数-suffix"><a href="#取后缀函数-suffix" class="header-anchor">#</a> 取后缀函数（<code>suffix</code>)</h4> <p>从文件名序列 &lt;names&gt; 中取出各个文件名的后缀</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">suffix</span> &lt;names...&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">suffix</span> src/foo.c src-1.0/bar.c hacks<span class="token punctuation">)</span>
<span class="token comment"># 返回值是 .c .c</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="取前缀函数-basename"><a href="#取前缀函数-basename" class="header-anchor">#</a> 取前缀函数(<code>basename</code>)</h4> <p>从文件名序列 &lt;names&gt; 中取出各个文件名的前缀部分。</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">basename</span> &lt;names...&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">basename</span> src/foo.c src-1.0/bar.c hacks<span class="token punctuation">)</span> 
<span class="token comment"># 返回值是 src/foo src-1.0/bar hacks</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="加后缀函数-addsuffix"><a href="#加后缀函数-addsuffix" class="header-anchor">#</a> 加后缀函数(<code>addsuffix</code>)</h4> <p>把后缀 &lt;suffix&gt; 加到 &lt;names&gt; 中的每个单词后面</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">addsuffix</span> &lt;suffix&gt;,&lt;names...&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">addsuffix</span> .c,foo bar<span class="token punctuation">)</span>
<span class="token comment"># 返回值是 foo.c bar.c </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="加前缀函数-addprefix"><a href="#加前缀函数-addprefix" class="header-anchor">#</a> 加前缀函数(<code>addprefix</code>)</h4> <p>把前缀 &lt;prefix&gt; 加到 &lt;names&gt; 中的每个单词前面。</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span>addprefix &lt;prefix&gt;,&lt;names...&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span>addprefix src/,foo bar<span class="token punctuation">)</span>
<span class="token comment"># 返回值是 src/foo src/bar 。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="连接函数-join"><a href="#连接函数-join" class="header-anchor">#</a> 连接函数(<code>join</code>)</h4> <p>把 &lt;list2&gt; 中的单词对应地加到 &lt;list1&gt; 的单词后面。</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">join</span> &lt;list1&gt;,&lt;list2&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">join</span> aaa bbb , 111 222 333<span class="token punctuation">)</span>
<span class="token comment"># 返回值是 aaa111 bbb222 333 。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="其它函数"><a href="#其它函数" class="header-anchor">#</a> 其它函数</h3> <h4 id="foreach-函数"><a href="#foreach-函数" class="header-anchor">#</a> foreach 函数</h4> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">foreach</span> &lt;var&gt;,&lt;list&gt;,&lt;text&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token comment"># $(name) 中的单词会被挨个取出，并存到变量 n 中，</span>
<span class="token comment"># $(n).o 每次根据 $(n) 计算出一个值，这些值以空格分隔，最后作为 foreach 函数的返回</span>
names <span class="token operator">:=</span> a b c d
files <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">foreach</span> n,<span class="token variable">$</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span>,<span class="token variable">$</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>.o<span class="token punctuation">)</span>
<span class="token target symbol">run</span><span class="token punctuation">:</span>
	echo <span class="token variable">$</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="if-函数"><a href="#if-函数" class="header-anchor">#</a> if 函数</h4> <p>与之前的条件语句——<code>ifeq</code> 类似</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">if</span> &lt;condition&gt;,&lt;then-part&gt;<span class="token punctuation">)</span>
<span class="token comment"># 或者</span>
<span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">if</span> &lt;condition&gt;,&lt;then-part&gt;,&lt;<span class="token keyword">else</span>-part&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="call-函数"><a href="#call-函数" class="header-anchor">#</a> call 函数</h4> <p>call 函数是唯一一个可以用来创建新的参数化的函数。</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> &lt;expression&gt;,&lt;parm1&gt;,&lt;parm2&gt;,...,&lt;parmn&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code>reverse <span class="token operator">=</span>  <span class="token variable">$</span><span class="token punctuation">(</span>2<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span>

foo <span class="token operator">=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> reverse,a,b<span class="token punctuation">)</span>

<span class="token target symbol">run</span><span class="token punctuation">:</span>
	echo <span class="token variable">$</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>
<span class="token comment"># b a</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="shell-函数"><a href="#shell-函数" class="header-anchor">#</a> shell 函数</h4> <p>使用操作系统 Shell 的命令</p> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code>contents <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">shell</span> cat foo<span class="token punctuation">)</span>
files <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">shell</span> echo *.c<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="控制-make-的函数"><a href="#控制-make-的函数" class="header-anchor">#</a> 控制 make 的函数</h4> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">error</span> &lt;text ...&gt;<span class="token punctuation">)</span>
<span class="token comment"># and</span>
<span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">warning</span> &lt;text ...&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="origin-函数"><a href="#origin-函数" class="header-anchor">#</a> origin 函数</h4> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">origin</span> &lt;variable&gt;<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>origin 函数用于告诉这个变量的从何而来</p> <table><thead><tr><th style="text-align:left;">:-</th> <th style="text-align:left;">:-</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>undefined</code></td> <td style="text-align:left;">如果 &lt;variable&gt; 未定义，返回 <code>undefined</code></td></tr> <tr><td style="text-align:left;"><code>default</code></td> <td style="text-align:left;">如果 &lt;variable&gt; 是默认的，如 <code>CC</code></td></tr> <tr><td style="text-align:left;"><code>environment</code></td> <td style="text-align:left;">如果 &lt;variable&gt; 是环境变量，并且当 Makefile 执行时，-e 参数没有被打开</td></tr> <tr><td style="text-align:left;"><code>file</code></td> <td style="text-align:left;">如果 &lt;variable&gt; 这个变量被定义在 Makefile 中。</td></tr> <tr><td style="text-align:left;"><code>command line</code></td> <td style="text-align:left;">如果 &lt;variable&gt; 这个变量是被命令行定义的。</td></tr> <tr><td style="text-align:left;"><code>override</code></td> <td style="text-align:left;">如果 &lt;variable&gt; 是被 override 指示符重新定义的。</td></tr> <tr><td style="text-align:left;"><code>automatic</code></td> <td style="text-align:left;">如果 &lt;variable&gt; 是一个命令运行中的自动化变量</td></tr></tbody></table> <h2 id="另见"><a href="#另见" class="header-anchor">#</a> 另见</h2> <ul><li><a href="https://seisman.github.io/how-to-write-makefile/overview.html" target="_blank" rel="noopener noreferrer">make 中文教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <em>(seisman.github.io)</em></li> <li><a href="https://www.gnu.org/software/make/manual/make.html#toc-Overview-of-make" target="_blank" rel="noopener noreferrer">make 手册<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <em>(www.gnu.org)</em></li> <li><a href="https://www.gnu.org/software/make/" target="_blank" rel="noopener noreferrer">make 官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <em>www.gnu.org</em></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c8ed8bcf.js" defer></script><script src="/assets/js/2.f44a4f26.js" defer></script><script src="/assets/js/30.fea18838.js" defer></script>
  </body>
</html>
